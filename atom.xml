<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mr.AZ</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://oldaz.github.io/"/>
  <updated>2020-09-03T04:28:50.827Z</updated>
  <id>https://oldaz.github.io/</id>
  
  <author>
    <name>Mr.AZ</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JavaEE会话技术之Session</title>
    <link href="https://oldaz.github.io/2020/09/03/20200903122318/"/>
    <id>https://oldaz.github.io/2020/09/03/20200903122318/</id>
    <published>2020-09-03T04:23:18.000Z</published>
    <updated>2020-09-03T04:28:50.827Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/202009031222016.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><pre><code>服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器端的对象中。Httpsession</code></pre><a id="more"></a><h1 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h1><pre><code>1. 获取Httpsession对象：     HttpSession session = request.getSession();2. 使用Httpsession对象：    object  getAttribute(String name)    void  setAttribute(String name,Object value)    void  removeAttribute(String name)</code></pre><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><pre><code>Session的实现是依赖于Cookie的。</code></pre><p><img src="https://img-blog.csdnimg.cn/20200903101153442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="原理"></p><h1 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h1><ol><li><p>当客户端关闭后，服务器不关闭，两次获取的Session是否为同一个？</p><pre><code>默认情况下，不是。* 如果需要相同，则可以创建Cookie，键为JSESSIONID，设置最大存活时间，让Cookie持久化保存。</code></pre></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"JSESSIONID"</span>,session.getId());</span><br><span class="line">cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>);</span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure><ol start="2"><li><p>客户端不关闭，两次获取的session是同一个吗？</p><pre><code>不是同一个，但是要确保数据不丢失。   1. session钝化         在服务器正常关闭之前，将seesion对象序列化到硬盘上。（在tomcat的项目里面的work目录下）   2. session活化       在服务器启动后，将session 文件转化为session对象即可。       （IDEA中实现不了活化，因为在启动服务器的过程中，会先删除work目录，       再创建，上一次的session数据会被删除。无法读取活化）</code></pre></li></ol><p><strong><em>不过本地的Tomcat已经实现了这个过程，以后部署项目时不用考虑这个问题。</em></strong></p><ol start="3"><li>Session的什么时候被销毁？<ol><li>服务器被关闭。</li><li>session对象调用invalidate()。</li><li>session默认失效时间为30分钟。</li></ol></li></ol><pre><code>在所有项目的配置文件web.xml 就可以修改默认的失效时间</code></pre><p><img src="https://img-blog.csdnimg.cn/20200903121013194.png#pic_center" alt="失效时间"></p><h1 id="Session特点"><a href="#Session特点" class="headerlink" title="Session特点"></a>Session特点</h1><ol><li><p>session 用于储存一次会话的多次请求的数据，存在服务器端。</p></li><li><p>session 可以存储任意类型，任意大小的数据。</p></li><li><p>session和cokie的区别：</p><pre><code>1. session存储在服务器端，Cookie在客户端。2. seesion没有数据大小的限制，cookie有3. session数据安全，Cookie相对不安全。</code></pre></li></ol><p>注：session的体量会大一些，Cookie小一些。可以从翻译理解，session翻译为主菜，cookie翻译为小饼干！！！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/202009031222016.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;服务器端会话技术，在一次会话的多次请求间共享数据，
将数据保存在服务器端的对象中。Httpsession&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Session" scheme="https://oldaz.github.io/tags/Session/"/>
    
      <category term="JavaEE" scheme="https://oldaz.github.io/tags/JavaEE/"/>
    
  </entry>
  
  <entry>
    <title>JavaEE会话技术之cookie案例</title>
    <link href="https://oldaz.github.io/2020/08/28/JavaEE%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF%E4%B9%8Bcookie%E6%A1%88%E4%BE%8B/"/>
    <id>https://oldaz.github.io/2020/08/28/JavaEE%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF%E4%B9%8Bcookie%E6%A1%88%E4%BE%8B/</id>
    <published>2020-08-28T10:42:44.000Z</published>
    <updated>2020-09-03T04:24:41.803Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200828183545603.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><pre><code>1.  访问一个servlet，如果第一次访问，则提示：您好！欢迎首次访问2. 如果不是第一次访问，则提示：欢迎回来，您上次到访时间为：显示时间字符串</code></pre><a id="more"></a><h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><pre><code>1.  可以采用cookie完成2. 在服务器中的servlet判断是否有一个名字为lastTime的cookie    1. 有：不是第一次访问        1. 响应数据：欢迎回来，您上次的访问时间为：时间        2.  写回cookie：lastTime=时间    2. 没有：是第一次访问        1. 响应数据：您好，欢迎首次访问        2. 写回cookie：lastTime=时间</code></pre><h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><p><img src="https://img-blog.csdnimg.cn/20200828182648435.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><p><img src="https://img-blog.csdnimg.cn/20200828183054423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*1.  可以采用cookie完成</span></span><br><span class="line"><span class="comment">            2. 在服务器中的servlet判断是否有一个名字为lastTime的cookie</span></span><br><span class="line"><span class="comment">            1. 有：不是第一次访问</span></span><br><span class="line"><span class="comment">            1. 响应数据：欢迎回来，您上次的访问时间为：时间</span></span><br><span class="line"><span class="comment">            2.  写回cookie：lastTime=时间</span></span><br><span class="line"><span class="comment">            2. 没有：是第一次访问</span></span><br><span class="line"><span class="comment">            1. 响应数据：您好，欢迎首次访问</span></span><br><span class="line"><span class="comment">            2. 写回cookie：lastTime=时间</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/CookieTest"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CookieTest</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">  <span class="comment">//设置响应消息体的数据格式</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取所有的cookie</span></span><br><span class="line">        Cookie[] cookies = request.getCookies();</span><br><span class="line">        Boolean flag = <span class="keyword">false</span>;    <span class="comment">//没有cookie为last time</span></span><br><span class="line">        <span class="comment">//2.遍历数组</span></span><br><span class="line">        <span class="keyword">if</span> (cookies != <span class="keyword">null</span>&amp;&amp; cookies.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">                <span class="comment">//3.获取cookie的名称</span></span><br><span class="line">                String name = cookie.getName();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (<span class="string">"lastTime"</span>.equals(name))&#123;</span><br><span class="line">                    <span class="comment">//有该cookie，表示不是第一次访问</span></span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="comment">//设置cookie的value</span></span><br><span class="line">                    Date date = <span class="keyword">new</span> Date();</span><br><span class="line">                    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy年MM月dd日  HH:mm:ss"</span>);</span><br><span class="line">                    String str_date = sdf.format(date);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    System.out.println(<span class="string">"编码前："</span>+str_date);</span><br><span class="line">                    str_date = URLEncoder.encode(str_date, <span class="string">"utf-8"</span>);</span><br><span class="line">                    System.out.println(<span class="string">"编码后："</span>+str_date);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    cookie.setValue(str_date);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//设置cookie的存活时间</span></span><br><span class="line">                    cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>);<span class="comment">//一个月</span></span><br><span class="line">                    response.addCookie(cookie);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//响应数据</span></span><br><span class="line">                    <span class="comment">//获取cookie的value，时间</span></span><br><span class="line">                    String value = cookie.getValue();</span><br><span class="line">                    System.out.println(<span class="string">"解码前："</span>+value);</span><br><span class="line">                    value = URLDecoder.decode(value,<span class="string">"utf-8"</span>);</span><br><span class="line">                    System.out.println(<span class="string">"解码后："</span>+value);</span><br><span class="line">                    response.getWriter().write(<span class="string">"&lt;h1&gt;欢迎回来，您上次的访问时间为："</span>+value+<span class="string">"&lt;/h1&gt;"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (cookies==<span class="keyword">null</span> || cookies.length==<span class="number">0</span>||flag==<span class="keyword">false</span>)&#123;</span><br><span class="line">            <span class="comment">//没有，第一次访问</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//设置cookie的value</span></span><br><span class="line">            Date date = <span class="keyword">new</span> Date();</span><br><span class="line">            SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy年MM月dd日  HH:mm:ss"</span>);</span><br><span class="line">            String str_date = sdf.format(date);</span><br><span class="line">            str_date = URLEncoder.encode(str_date, <span class="string">"utf-8"</span>);</span><br><span class="line">            Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"lastTime"</span>,str_date);</span><br><span class="line">            <span class="comment">//设置cookie的存活时间</span></span><br><span class="line">            cookie.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>);  <span class="comment">//一个月</span></span><br><span class="line">            response.addCookie(cookie);</span><br><span class="line"></span><br><span class="line">            response.getWriter().write(<span class="string">"&lt;h1&gt;您好，欢迎首次访问&lt;/h1&gt;"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200828183545603.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;需求&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1.  访问一个servlet，如果第一次访问，则提示：您好！欢迎首次访问
2. 如果不是第一次访问，则提示：欢迎回来，您上次到访时间为：显示时间字符串&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="JavaEE" scheme="https://oldaz.github.io/tags/JavaEE/"/>
    
      <category term="Cookie" scheme="https://oldaz.github.io/tags/Cookie/"/>
    
  </entry>
  
  <entry>
    <title>JavaEE会话技术之Cookie</title>
    <link href="https://oldaz.github.io/2020/08/28/JavaEE%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF%E4%B9%8BCookie/"/>
    <id>https://oldaz.github.io/2020/08/28/JavaEE%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF%E4%B9%8BCookie/</id>
    <published>2020-08-28T10:41:39.000Z</published>
    <updated>2020-09-03T04:23:59.226Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200828184012478.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><h2 id="会话"><a href="#会话" class="headerlink" title="会话"></a>会话</h2><pre><code>一次会话包含多次请求和响应。一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止。</code></pre><a id="more"></a><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><pre><code>在一次会话范围内的多次请求间，共享数据</code></pre><h2 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h2><pre><code>1.客户端会话技术：        Cookie2.服务器端会话技术:        Session</code></pre><h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><pre><code>客户端会话技术，将 数据保存到客户端</code></pre><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><h3 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h3><pre><code>1. 创建Cookie对象，绑定数据    * new Cookie(String name,String value)2. 发送Cookie对象    *response.addCookie(Cookie cookie)</code></pre><p><img src="https://img-blog.csdnimg.cn/20200828160938959.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><pre><code>3. 获取Cookie，拿到数据    *Cookie[]   request.getCookies()</code></pre><p><img src="https://img-blog.csdnimg.cn/20200828161043635.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><p>*在同一个浏览器先访问CookieDemo1，再访问CookieDemo2控制台打印数据。<br><img src="https://img-blog.csdnimg.cn/20200828161216201.png#pic_center" alt=""></p><ul><li>若是在一个浏览器访问CookieDemo1后，在另一个不同的浏览器访问CookieDemo2.控制台不会输出数据。</li></ul><h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><p>基于响应头set-cookie和请求头cookie实现：<br><img src="https://img-blog.csdnimg.cn/20200828161716529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h2 id="Cookie的细节"><a href="#Cookie的细节" class="headerlink" title="Cookie的细节"></a>Cookie的细节</h2><ol><li><p>一次可不可以发送多个cookie？</p><pre><code>*可以可以创建多个Cookie对象，使用response调用多次addCookie方法发送cookie 即可。</code></pre></li><li><p>cookie可以在浏览器中保存多长时间？</p><pre><code>1. 默认情况下，当浏览器被关闭后，cookie数据被销毁。2. 持久化的存储：    * setMaxAge(int seconds)       1. 正数：将cookie数据写到硬盘文件中，持久化储存。secons表示存活时间。       2. 负数：默认值       3. 零：删除cookie信息</code></pre></li><li><p>cookie能不能存中文？</p><pre><code>*在tomcat 8之前，cookie中不能直接储存中文数据    需要将中文数据转码--一般采用URL编码（%）*在tomcat 8之后，cookie支持储存中文数据</code></pre></li><li><p>cookie获取的范围是多大？</p><pre><code>1. 假设在同一个tomcat服务器中，部署了多个web项目，  那么这些web项目中cookie能不能共享？-默认情况下cookie不能共享-由setPath(String path):设置cookie的获取范围，默认情况下为当前虚拟目录。-如果要共享则可以将path设置为&quot;/&quot;2.在不同的tomcat服务器间的cookie 共享问题？    setDomain(String path):如果设置一级域名相同，则多个服务器之间cookie可以共享    *setDomain(&quot;.baidu.coom&quot;),那么tieba.baidu.com和news.baidu.com的cookie可以共享</code></pre></li></ol><h2 id="Cookie的特点和作用"><a href="#Cookie的特点和作用" class="headerlink" title="Cookie的特点和作用"></a>Cookie的特点和作用</h2><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><pre><code>1. cookie存储数据在客户端浏览器2. 浏览器对于单个cookie的大小有限制（4kb）    以及对同一个域名下的cookie数量也有限制 （20个）</code></pre><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><pre><code>1. cookie一般用于存储少了的不太敏感的数据2. 在不登录的情况下，完成服务器对客户端的身份识别</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200828184012478.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;h2 id=&quot;会话&quot;&gt;&lt;a href=&quot;#会话&quot; class=&quot;headerlink&quot; title=&quot;会话&quot;&gt;&lt;/a&gt;会话&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;一次会话包含多次请求和响应。

一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止。&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="JavaEE" scheme="https://oldaz.github.io/tags/JavaEE/"/>
    
      <category term="Cookie" scheme="https://oldaz.github.io/tags/Cookie/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议之文件下载案例</title>
    <link href="https://oldaz.github.io/2020/08/28/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8B%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%A1%88%E4%BE%8B/"/>
    <id>https://oldaz.github.io/2020/08/28/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8B%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%A1%88%E4%BE%8B/</id>
    <published>2020-08-28T03:04:05.000Z</published>
    <updated>2020-08-28T03:05:31.389Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200828110158673.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h1 id="文件下载需求："><a href="#文件下载需求：" class="headerlink" title="文件下载需求："></a>文件下载需求：</h1><pre><code>1. 页面显示超链接2. 点击超链接后弹出下载提示框3. 完成图片文件下载</code></pre><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/20200828105902762.png#pic_center" alt=""><br><img src="https://img-blog.csdnimg.cn/20200828105931876.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h1 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h1><pre><code>1. 超链接指向的资源如果能够被浏览器解析，则在浏览器中展示，如果不能解析，则弹出下载提示框。不满足需求。2. 任何资源都必须弹出下载提示框。3. 使用响应头设置资源的打开方式：    *content-disposition：attename；filename=xxx;</code></pre><h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><pre><code>1.  定义页面，编辑超链接href属性，属性值指向Servlet，    传递资源名称filename2.  定义Servlet    1. 获取文件的名称    2. 使用字节输入流去加载文件进去内存（涉及真实路径）    3. 指定response响应头：        *content-disposition：attename；filename=xxx;    4. 将数据写出到response输出流即可</code></pre><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>中文文件名的问题</p><p>解决思路：</p><pre><code>1. 获取客户端浏览器使用的版本信息2. 根据不同的版本信息，我们设置filename的编码方式不同</code></pre><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p><img src="https://img-blog.csdnimg.cn/20200828105613647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="DownloadServlet"><a href="#DownloadServlet" class="headerlink" title="DownloadServlet"></a>DownloadServlet</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.download;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.web.utils.DownLoadUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/downLoad"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//1.获取请求参数，文件文名称</span></span><br><span class="line">        String filename = request.getParameter(<span class="string">"filename"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.使用字节输出流加载进去内存</span></span><br><span class="line">            <span class="comment">//2.1找到文件服务器路径</span></span><br><span class="line">        ServletContext servletContext = <span class="keyword">this</span>.getServletContext();</span><br><span class="line">        String realPath = servletContext.getRealPath(<span class="string">"/img/"</span>+filename);</span><br><span class="line">            <span class="comment">//2.2用字节流关联</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(realPath);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.设置response的响应头</span></span><br><span class="line">        <span class="comment">//3.1设置响应头类型content-type</span></span><br><span class="line">                <span class="comment">//获取文件的mime类型</span></span><br><span class="line">        String mimeType = servletContext.getMimeType(filename);</span><br><span class="line">        response.setHeader(<span class="string">"content-type"</span>,mimeType);</span><br><span class="line">        <span class="comment">//设置头响应打开方式:content-disposition</span></span><br><span class="line">        <span class="comment">//3.2解决中文文件问题</span></span><br><span class="line">            <span class="comment">//1.获取user-agent请求头</span></span><br><span class="line">        String agent = request.getHeader(<span class="string">"user-agent"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.使用工具类方法编码文件名即可</span></span><br><span class="line">        filename = DownLoadUtils.getFileName(agent, filename);</span><br><span class="line">        response.setHeader(<span class="string">"content-disposition"</span>,<span class="string">"attachment;filename="</span>+filename);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.将输入流的数据写出到输出流中</span></span><br><span class="line">        ServletOutputStream sos = response.getOutputStream();</span><br><span class="line">        <span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len=fis.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">            sos.write(buff,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.doPost(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="中文编码类"><a href="#中文编码类" class="headerlink" title="中文编码类"></a>中文编码类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.misc.BASE64Encoder;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownLoadUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFileName</span><span class="params">(String agent, String filename)</span> <span class="keyword">throws</span> UnsupportedEncodingException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (agent.contains(<span class="string">"MSIE"</span>)) &#123;</span><br><span class="line">            <span class="comment">// IE浏览器</span></span><br><span class="line">            filename = URLEncoder.encode(filename, <span class="string">"utf-8"</span>);</span><br><span class="line">            filename = filename.replace(<span class="string">"+"</span>, <span class="string">" "</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (agent.contains(<span class="string">"Firefox"</span>)) &#123;</span><br><span class="line">            <span class="comment">// 火狐浏览器</span></span><br><span class="line">            BASE64Encoder base64Encoder = <span class="keyword">new</span> BASE64Encoder();</span><br><span class="line">            filename = <span class="string">"=?utf-8?B?"</span> + base64Encoder.encode(filename.getBytes(<span class="string">"utf-8"</span>)) + <span class="string">"?="</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 其它浏览器</span></span><br><span class="line">            filename = URLEncoder.encode(filename, <span class="string">"utf-8"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> filename;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="下载HTML页面"><a href="#下载HTML页面" class="headerlink" title="下载HTML页面"></a>下载HTML页面</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>下载<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/3_response_war_exploded/img/1.jpg"</span>&gt;</span>图片1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/3_response_war_exploded/img/2.jpg"</span>&gt;</span>图片2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/3_response_war_exploded/downLoad?filename=1.jpg"</span>&gt;</span>图片1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/3_response_war_exploded/downLoad?filename=九尾.jpg"</span>&gt;</span>图片1（中文）<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/3_response_war_exploded/downLoad?filename=2.jpg"</span>&gt;</span>图片2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200828110158673.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;文件下载需求：&quot;&gt;&lt;a href=&quot;#文件下载需求：&quot; class=&quot;headerlink&quot; title=&quot;文件下载需求：&quot;&gt;&lt;/a&gt;文件下载需求：&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1. 页面显示超链接
2. 点击超链接后弹出下载提示框
3. 完成图片文件下载&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="HTTP" scheme="https://oldaz.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议之ServletContent对象</title>
    <link href="https://oldaz.github.io/2020/08/26/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8BServletContent%E5%AF%B9%E8%B1%A1/"/>
    <id>https://oldaz.github.io/2020/08/26/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8BServletContent%E5%AF%B9%E8%B1%A1/</id>
    <published>2020-08-26T09:49:26.000Z</published>
    <updated>2020-08-26T09:50:12.282Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200826174813647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><pre><code>代表整个web应用，可以和程序的容器（服务器）来通讯</code></pre><a id="more"></a><h1 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h1><p>1.通过request对象获取</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.getServletContext();</span><br></pre></td></tr></table></figure><p>2.通过HttpServlet来获取 </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.getServletContext();</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200826170922826.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><h2 id="1-获取MIME类型（互联网中文件的类型）"><a href="#1-获取MIME类型（互联网中文件的类型）" class="headerlink" title="1.获取MIME类型（互联网中文件的类型）"></a>1.获取MIME类型（互联网中文件的类型）</h2><pre><code>*MIME类型：在互联网通讯过程中定义的一种文件数据类型    *格式： 大类型/小类型   text/html     image/jpg</code></pre><p><img src="https://img-blog.csdnimg.cn/2020082617103990.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="2-域对象：共享数据"><a href="#2-域对象：共享数据" class="headerlink" title="2.域对象：共享数据"></a>2.域对象：共享数据</h2><pre><code>方法：1.setAttribute(String name,Object value)2.getAttribute(String name)3.removeAttribute(String name)范围*ServletContext对象范围：        所有用户请求的数据声明周期长，慎用，否则导致内存压力。</code></pre><h2 id="3-获取文件的真实（服务器路径）路径"><a href="#3-获取文件的真实（服务器路径）路径" class="headerlink" title="3.获取文件的真实（服务器路径）路径"></a>3.获取文件的真实（服务器路径）路径</h2><pre><code>1. 方法： String getRealPath(&quot;&quot;);</code></pre><p><img src="https://img-blog.csdnimg.cn/20200826174234185.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200826174813647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;代表整个web应用，可以和程序的容器（服务器）来通讯&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="HTTP" scheme="https://oldaz.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议之response对象</title>
    <link href="https://oldaz.github.io/2020/08/25/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8Bresponse%E5%AF%B9%E8%B1%A1/"/>
    <id>https://oldaz.github.io/2020/08/25/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8Bresponse%E5%AF%B9%E8%B1%A1/</id>
    <published>2020-08-25T03:55:27.000Z</published>
    <updated>2020-08-26T09:52:59.160Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200825115228784.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><pre><code>设置响应消息1. 设置响应行        1. 格式：HTTP/1.1  200    ok        2. 设置状态码： setStatic(int sc)</code></pre>  <a id="more"></a><pre><code>2. 设置相应头    setHeader(String name,String value)3. 设置响应体   使用步骤：           1. 获取输出流                   * 字符输出流：PrintWriter getWriter()                   * 字节输出流: ServletOutputStream getOutStream()           2. 使用输出流，将数据输出到客户端浏览器</code></pre><h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><h2 id="完成重定向"><a href="#完成重定向" class="headerlink" title="完成重定向"></a>完成重定向</h2><h3 id="资源跳转的方式。"><a href="#资源跳转的方式。" class="headerlink" title="资源跳转的方式。"></a>资源跳转的方式。</h3><p><img src="https://img-blog.csdnimg.cn/202008191254267.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="重定向"></p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><p>这是第一个访问的Servlet    (/rd1)<br><img src="https://img-blog.csdnimg.cn/20200819131405171.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这是第二个Servlet    (/rd2)  重定向来的<br><img src="https://img-blog.csdnimg.cn/20200819131610498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>这是运行结果：<br><img src="https://img-blog.csdnimg.cn/20200819131657732.png#pic_center" alt=""></p><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><pre><code>转发特点：foward    1. 转发地址栏路径不变    2. 转发只能访问当前服务器下的资源    3. 转发是一次请求，可以使用request对象来共享数据重定向特点：redirect    1. 转发地址栏路径发生变化    2. 转发可以访问其他站点（服务器）的资源    3. 转发是两次请求，不能使用request来共享数据</code></pre><h2 id="路径的写法"><a href="#路径的写法" class="headerlink" title="路径的写法"></a>路径的写法</h2><ol><li><p>路径的分类</p><ol><li><p>相对路径</p><pre><code>不能确定唯一资源如：./index.html规则：找到当前资源和目标资源的相对位置关系    ./:当前目录   ../:后退一级目录</code></pre></li><li><p>绝对路径</p><pre><code>可以确定唯一的资源*如：http://localhost:8080/3_response_war_exploded/rd2*以/开头：/3_response_war_exploded/rd2规则：判断路径给谁用，判断请求从哪儿发出    *给客户端使用：需要加虚拟目录（项目的访问路径）       *建议虚拟目录动态获取：request.getContextPath()       *&lt;a&gt;,&lt;form&gt; 重定向...    *给服务器使用，不需要加虚拟目录      * 转发路径</code></pre></li></ol></li></ol><h2 id="服务器输出字符数据到浏览器"><a href="#服务器输出字符数据到浏览器" class="headerlink" title="服务器输出字符数据到浏览器"></a>服务器输出字符数据到浏览器</h2><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><ol><li>获取字符输出流</li><li>输出数据</li><li>注意：</li></ol><pre><code>    乱码问题：1. PrintWriter pw = response.getWriter();2. 设置该流的默认编码3. 告诉浏览器，响应体用的编码</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单的形式，设置编码，在获取响应流之前设置</span></span><br><span class="line">response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br></pre></td></tr></table></figure><ol start="4"><li>代码：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/rd3"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseDemo3</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     <span class="comment">//获取流对象之前，设置流的默认编码：ISO -8859-1  设置为GBK</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.获取字符输出流</span></span><br><span class="line">        PrintWriter pw = response.getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.输出数据</span></span><br><span class="line">        pw.write(<span class="string">"&lt;h1&gt;hello response&lt;h1&gt;"</span>);</span><br><span class="line">        pw.write(<span class="string">"你好 response"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="服务器输出字节数据到浏览器"><a href="#服务器输出字节数据到浏览器" class="headerlink" title="服务器输出字节数据到浏览器"></a>服务器输出字节数据到浏览器</h2><p>步骤：</p><pre><code>1.  获取字节输出流2.  输出数据</code></pre><p>代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/rd4"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseDemo4</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     <span class="comment">//获取流对象之前，设置流的默认编码：ISO -8859-1  设置为GBK</span></span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取字节输出流</span></span><br><span class="line">        ServletOutputStream sos = response.getOutputStream();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.输出数据</span></span><br><span class="line">        sos.write(<span class="string">"hello"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h2><pre><code>1. 本质：图片2. 目的：防止恶意表单注册      注：以后写的话  ，几乎都是在网上找美观的代码。自己改！！！</code></pre><p>代码:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/rd5"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseDemo5</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     <span class="comment">//获取流对象之前，设置流的默认编码：ISO -8859-1  设置为GBK</span></span><br><span class="line">       <span class="comment">// response.setContentType("text/html;charset=UTF-8");</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> width = <span class="number">100</span>;</span><br><span class="line">            <span class="keyword">int</span> height = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.创建一个对象，在内存中图片（验证码图片对象）</span></span><br><span class="line">        BufferedImage image = <span class="keyword">new</span> BufferedImage(width,height,BufferedImage.TYPE_INT_RGB);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.美化图片</span></span><br><span class="line">        <span class="comment">//2.1 填充背景色</span></span><br><span class="line">        Graphics g = image.getGraphics();  <span class="comment">//画笔对象</span></span><br><span class="line"></span><br><span class="line">        g.setColor(Color.pink);  <span class="comment">//设置画笔颜色</span></span><br><span class="line">        g.fillRect(<span class="number">0</span>,<span class="number">0</span>,width,height);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.2 画边框</span></span><br><span class="line">        g.setColor(Color.blue);</span><br><span class="line">        g.drawRect(<span class="number">0</span>,<span class="number">0</span>,width-<span class="number">1</span>,height-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        String str = <span class="string">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"</span>;</span><br><span class="line">        <span class="comment">//生成随机角标</span></span><br><span class="line">        Random ran = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;<span class="number">5</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = ran.nextInt(str.length());</span><br><span class="line">            <span class="comment">//获取字符</span></span><br><span class="line">            <span class="keyword">char</span> ch = str.charAt(index);<span class="comment">//随机字符</span></span><br><span class="line">            <span class="comment">//2.3写验证码</span></span><br><span class="line">            g.drawString(ch+<span class="string">""</span>,width/<span class="number">5</span>*i,height/<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.4画干扰线</span></span><br><span class="line">        g.setColor(Color.green);</span><br><span class="line">        <span class="comment">//随机生成坐标点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> x1 = ran.nextInt(width);</span><br><span class="line">            <span class="keyword">int</span> x2 = ran.nextInt(width);</span><br><span class="line">            <span class="keyword">int</span> y1 = ran.nextInt(height);</span><br><span class="line">            <span class="keyword">int</span> y2 = ran.nextInt(height);</span><br><span class="line"></span><br><span class="line">            g.drawLine(x1,y1,x2,y2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.将图片展示到页面</span></span><br><span class="line">        ImageIO.write(image,<span class="string">"jpg"</span>,response.getOutputStream());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>HTML页面代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"checkCode"</span> <span class="attr">src</span>=<span class="string">"/3_response_war_exploded/rd5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"change"</span> <span class="attr">herf</span>=<span class="string">""</span>&gt;</span>看不清，换一张？<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">/*</span><br><span class="line">    分析：</span><br><span class="line">      点击超链接或者图片，需要换一张</span><br><span class="line">    1. 给超链接或者图片绑定单击事件</span><br><span class="line">    2.重新设置图片的SRC属性值</span><br><span class="line">*/</span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//1.获取图片对象</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> img = <span class="built_in">document</span>.getElementById(<span class="string">"checkCode"</span>);</span></span><br><span class="line"><span class="actionscript">        img.onclick=<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//时间戳</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            img.src = <span class="string">"/3_response_war_exploded/rd5?"</span>+date;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> img2 = <span class="built_in">document</span>.getElementById(<span class="string">"change"</span>);</span></span><br><span class="line"><span class="actionscript">        img2.onclick = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//时间戳</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            img.src = <span class="string">"/3_response_war_exploded/rd5?"</span>+date;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200825115228784.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;功能&quot;&gt;&lt;a href=&quot;#功能&quot; class=&quot;headerlink&quot; title=&quot;功能&quot;&gt;&lt;/a&gt;功能&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;设置响应消息

1. 设置响应行
        1. 格式：HTTP/1.1  200    ok
        2. 设置状态码： setStatic(int sc)&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="HTTP" scheme="https://oldaz.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>速解HTTP协议之响应消息</title>
    <link href="https://oldaz.github.io/2020/08/19/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8B%E5%93%8D%E5%BA%94%E6%B6%88%E6%81%AF/"/>
    <id>https://oldaz.github.io/2020/08/19/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8B%E5%93%8D%E5%BA%94%E6%B6%88%E6%81%AF/</id>
    <published>2020-08-19T04:09:43.000Z</published>
    <updated>2020-08-19T04:11:58.647Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200819120809472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="相应消息"></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><ol><li><p>请求消息： 客户端发送给服务端的数据<br> *数据格式：</p><pre><code>1. 请求行2. 请求头3. 请求空行4. 请求体</code></pre><ol start="2"><li><p>响应消息：服务器端发送给客户端的数据<br>   *数据格式</p>   <a id="more"></a> <ol><li><p>响应行</p><pre><code>1. 组成：  协议/版本  响应状态码   状态码描述2. 响应的状态码:     服务器告诉客户端浏览器本次请求和响应的一个状态。    1. 状态码都是三位数字。    2. 分类：</code></pre><ol><li>1xx :<pre><code>服务器接收客户端消息， 但没有接收完成，等待一段时间后， 发送1xx多状态码</code></pre></li><li>2xx ：<pre><code>成功。代表200    </code></pre></li><li>3xx：<pre><code>重定向。代表:302（重定向），304（访问缓存）</code></pre></li><li>4xx：<pre><code>代表客户端错误。   代表：      1. 404（请求路径没有对应的资源）      2. 405 （请求方式没有对应的doxxx方法）</code></pre></li><li>5xx：<pre><code>代表服务器端错误。代表：500（服务器异常）</code></pre></li></ol></li><li><p>响应头</p><pre><code>1. 格式：  头名称   ：  值2. 常见的响应头：    1. Content-Type: 服务器告诉客户端本次响应的数据格式以及编码格式。    2. Content-disposition：服务器告诉客户端以什么格式打开响应体数据：        *值：             *in-line：默认值，在当前页面打开             *attachment；filename=xxx：以附件形式打开响应体。文件下载</code></pre></li><li><p>响应空行</p></li><li><p>响应体：传输的数据。</p></li></ol></li></ol></li></ol><pre><code>HTTP/1.1 200 OKContent-Type: text/html;charset=utf-8Cache-Control: privateCache-Lenght: 101Date:wed,19 Aug 2020  11:00 GMT&lt;html&gt;  &lt;head&gt;    &lt;title&gt;$Title$&lt;/title&gt;  &lt;/head&gt;    &lt;body&gt;        hello,response!      &lt;/body&gt;&lt;/html&gt;</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200819120809472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;相应消息&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;请求消息： 客户端发送给服务端的数据&lt;br&gt; *数据格式：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. 请求行
2. 请求头
3. 请求空行
4. 请求体&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;&lt;p&gt;响应消息：服务器端发送给客户端的数据&lt;br&gt;   *数据格式&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="HTTP" scheme="https://oldaz.github.io/tags/HTTP/"/>
    
      <category term="快速入门" scheme="https://oldaz.github.io/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>HTTP协议之Request对象</title>
    <link href="https://oldaz.github.io/2020/08/18/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8BRequest%E5%AF%B9%E8%B1%A1/"/>
    <id>https://oldaz.github.io/2020/08/18/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8BRequest%E5%AF%B9%E8%B1%A1/</id>
    <published>2020-08-18T03:16:23.000Z</published>
    <updated>2020-08-25T04:01:39.754Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200816165117123.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="request"></p><h1 id="request对象"><a href="#request对象" class="headerlink" title="request对象"></a>request对象</h1><pre><code>1.request和response对象是由服务器创建的。我们来使用他们2.request对象是来获取请求消息，response对象是来设置响应消息。</code></pre><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/20200816112357668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h1 id="Request对象继承体系结构"><a href="#Request对象继承体系结构" class="headerlink" title="Request对象继承体系结构"></a>Request对象继承体系结构</h1><pre><code>ServletRequest             --接口    继承HttpServletRequest        --接口    实现Org.apache.catalina.connector.RequestFacade 类（tomcat）</code></pre><h1 id="request功能"><a href="#request功能" class="headerlink" title="request功能"></a>request功能</h1><h2 id="1-获取请求消息"><a href="#1-获取请求消息" class="headerlink" title="1.获取请求消息"></a>1.获取请求消息</h2><h3 id="1-1获取请求行数据"><a href="#1-1获取请求行数据" class="headerlink" title="1.1获取请求行数据"></a>1.1获取请求行数据</h3><pre><code>* GET  /day/demo1?name=zhanshan  HTTP/1.1* 方法：            1.获取请求方式：GET                    String getMethod()            2.(*)获取虚拟目录： /day                    String getContextPath()            3.获取Servlet路径：/demo1                     String getServletPath()            4.获取get方式的请求参数： name=zhanshan                     String getQueryString()       5.(*)获取请求的URI：/day/demo1               String getRequestURI()     :/day/demo1               StringBuffer getRequestURL()   :  http://localhost:8080/day/demo1           URL:统一资源定位符                 URL小于URI             URI：统一资源标识符       6.获取协议及版本:HTTP/1.1               String getProtocol()               7.获取客户机的IP地址               String getRemoteAddr()</code></pre><h3 id="1-2获取请求头数据"><a href="#1-2获取请求头数据" class="headerlink" title="1.2获取请求头数据"></a>1.2获取请求头数据</h3><pre><code>方法：        String getHeader(String name):通过请求头的名称获取请求头的值        Enumeration&lt;String&gt; getHeaderNames(): 获取所有的请求头名称</code></pre><p> 3.获取请求体数据<br>         请求体：只有POST请求方式，才有请求体，在请求体中封装了请求的请求参数</p><pre><code>步骤：        1.获取流对象                1.BUfferedReader getHeader()  :获取字符输入流，只能操作字符数据。                2.ServletInputStream()  :获取字节流，可以操作所有类型的数据        2.再从流对象中拿数据</code></pre><h2 id="2-其他功能"><a href="#2-其他功能" class="headerlink" title="2.其他功能"></a>2.其他功能</h2><h3 id="2-1获取请求参数-的通用方式"><a href="#2-1获取请求参数-的通用方式" class="headerlink" title="2.1获取请求参数 的通用方式"></a>2.1获取请求参数 的通用方式</h3><p>GET和POST请求方式都可以使用以下方法：<br>this.DoPost(request,response)</p><pre><code>1.String getParamterer(String name)        //根据参数名称获取参数值 username=1&amp;password=22.String[]  getParamtererValues(String name)      //根据参数名称获取参数值与数组  hobby=1&amp; hobby=23.getParameterNames()      //获取所有请求的参数名称4.Map&lt;String,String[]&gt; getParameterMap()        //获取所有集合的Map集合</code></pre><p>乱码问题：</p><pre><code>设置流的字符集：            在获取参数前，设置request.setcharacterEncoding(&quot;utf-8&quot;);</code></pre><h2 id="3-请求转发"><a href="#3-请求转发" class="headerlink" title="3.请求转发"></a>3.请求转发</h2><p>一种在服务器内部的资源跳转方式<br><img src="https://img-blog.csdnimg.cn/20200816162354892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="转发"></p><h3 id="3-1步骤"><a href="#3-1步骤" class="headerlink" title="3.1步骤:"></a>3.1步骤:</h3><pre><code>1.通过request对象获取请求转发器对象   RequestDispatcher  getRequestDispatcher(String path)2.使用 RequestDispatcher对象进行转发  forward(ServletRequest  request,ServletResponse response)</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式1</span></span><br><span class="line"> RequestDispatcher rd = request.getRequestDispatcher(<span class="string">"/Demo3"</span>);</span><br><span class="line"> rd.forward(request,response);        </span><br><span class="line"> <span class="comment">//方式2</span></span><br><span class="line"> request.getRequestDispatcher(<span class="string">"/Demo3"</span>).forward(request,response);</span><br></pre></td></tr></table></figure><h3 id="3-2特点"><a href="#3-2特点" class="headerlink" title="3.2特点"></a>3.2特点</h3><pre><code>1.浏览器地址栏路径不发生变化2. 只能转发到当前服务器内部资源中3. 转发是一次请求</code></pre><h2 id="4-共享数据"><a href="#4-共享数据" class="headerlink" title="4.共享数据"></a>4.共享数据</h2><h3 id="4-1域对象"><a href="#4-1域对象" class="headerlink" title="4.1域对象"></a>4.1域对象</h3><p>一个作用范围的对象，可以在范围内共享数据。</p><pre><code>request域：         代表一次请求，一般用于请求转发的多个资源中共享数据方法：    1.setAttrbute(String name,Oject obj):存储数据    2.Object getAttrbute(String name)   :通过键获取数据    3.void removeAttrbute(String name ):通过键移除键值对</code></pre><p>​        </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200816165117123.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;request&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;request对象&quot;&gt;&lt;a href=&quot;#request对象&quot; class=&quot;headerlink&quot; title=&quot;request对象&quot;&gt;&lt;/a&gt;request对象&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1.request和response对象是由服务器创建的。我们来使用他们
2.request对象是来获取请求消息，response对象是来设置响应消息。&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="HTTP" scheme="https://oldaz.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>记录“偷懒”实用小技巧--beanutils包</title>
    <link href="https://oldaz.github.io/2020/08/18/%E8%AE%B0%E5%BD%95%E2%80%9C%E5%81%B7%E6%87%92%E2%80%9D%E5%AE%9E%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7--beanutils%E5%8C%85/"/>
    <id>https://oldaz.github.io/2020/08/18/%E8%AE%B0%E5%BD%95%E2%80%9C%E5%81%B7%E6%87%92%E2%80%9D%E5%AE%9E%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7--beanutils%E5%8C%85/</id>
    <published>2020-08-18T03:13:03.000Z</published>
    <updated>2020-08-18T03:16:58.236Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200818110842814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="BenUtils"></p><h1 id="Beautils介绍"><a href="#Beautils介绍" class="headerlink" title="Beautils介绍"></a>Beautils介绍</h1><pre><code>Apache组织开发了一套用于操作JavaBean的API，这套API考虑到了很多实际开发中的应用场景，因此在实际开发中很多程序员使用这套API操作JavaBean，以简化程序代码的编写。</code></pre><p>在工程下新建lib目录，导入commons-beanutils-1.8.3.jar 和支持包commons-logging-1.1.1.jar</p><p>选中两个包，右键add as library</p><a id="more"></a><h1 id="Beanutils工具包的常用类："><a href="#Beanutils工具包的常用类：" class="headerlink" title="Beanutils工具包的常用类："></a>Beanutils工具包的常用类：</h1><ul><li><p>BeanUtils</p></li><li><p>PropertyUtils</p></li><li><p>ConvertUtils.regsiter(Converterconvert, Class clazz)</p></li></ul><h2 id="对属性进行赋值操作"><a href="#对属性进行赋值操作" class="headerlink" title="对属性进行赋值操作"></a>对属性进行赋值操作</h2><p>可以实现String向8种基本数据类型的自动转换。如age是int类型的，但也可以使用String f赋值,这就是在BeanUtils内部实现了该转化操作。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">// 可以实现String向8种基本数据类型的自动转换。如age是int类型的，但也可以使用String f赋值</span></span><br><span class="line"><span class="comment">// 这就是在BeanUtils内部实现了该转化操作。</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// 1、调用BeanUtils的setProperty方法就可以直接对bean内省了</span></span><br><span class="line"><span class="comment">// 实际上是在这里面封装了Sun的普通内省的方法。</span></span><br><span class="line">BeanUtils.setProperty(p, <span class="string">"age"</span>, <span class="string">"21"</span>);</span><br><span class="line">System.out.println(p.getAge());</span><br><span class="line"> </span><br><span class="line">&#125; <span class="keyword">catch</span> (IllegalAccessException | InvocationTargetException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="封装用户对象"><a href="#封装用户对象" class="headerlink" title="封装用户对象"></a>封装用户对象</h2><p> 实际运用1：用户注册时提交的数据都是String类型的， 我们需要对用户的信息进行封装 将用户封装一个个对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// 假设客户提交的数据</span></span><br><span class="line">String age = <span class="string">"24"</span>;</span><br><span class="line">String name = <span class="string">"小明"</span>;</span><br><span class="line">String sex = <span class="string">"男"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取请求参数</span></span><br><span class="line">Map&lt;String,String[]&gt; map = req.getparameterMap();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 封装成对象</span></span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">/*BeanUtils.setProperty(p, "name", name);</span></span><br><span class="line"><span class="comment">BeanUtils.setProperty(p, "age", age);</span></span><br><span class="line"><span class="comment">BeanUtils.setProperty(p, "sex", sex);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">BeanUtils.populate(p,map);</span><br><span class="line"> </span><br><span class="line">System.out.println(p.getAge() + <span class="string">".."</span> + p.getName() + <span class="string">".."</span></span><br><span class="line">+ p.getSex());</span><br><span class="line"> </span><br><span class="line">&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><p>由于BeanUtils只支持8种基本数据类型的转换，因此要实现其他类型的转化，就需要注册该类型的转换器。自定义转换器</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// 使用ConverUtils对象的register()方法来注册类型转换器</span></span><br><span class="line"><span class="comment">// 1、第一个参数为实现了Converter接口的对象，第二个参数为要注册的类型的class对象。</span></span><br><span class="line"><span class="comment">// 2、因此需要使用匿名内部类的方式重写Converter的converter方法。</span></span><br><span class="line"><span class="comment">// 3、该方法最有有BeanUtils的setProperty()来调用</span></span><br><span class="line">ConvertUtils.register(<span class="keyword">new</span> Converter() &#123;</span><br><span class="line"><span class="comment">// arg0这种情况产生的原因是因为没有导入源码</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * public Object convert(Class arg0, Object arg1) &#123; // TODO</span></span><br><span class="line"><span class="comment"> * Auto-generated method stub return null; &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">convert</span><span class="params">(Class&lt;T&gt; type, Object value)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 1、先对value进行判断。看看是否符合条件</span></span><br><span class="line"><span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2、对value的值进行判断，因为我们要转换的是String类型的</span></span><br><span class="line"><span class="keyword">if</span> (!(value <span class="keyword">instanceof</span> String)) &#123;</span><br><span class="line"><span class="comment">// 不是String,将该错误抛给调用他的方法</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ConversionException(<span class="string">"值支持String类型的转换！"</span>);</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 3、如果1、2都没错误进行第三步，判断value是否全是空格</span></span><br><span class="line">String string = (String) value;</span><br><span class="line"><span class="keyword">if</span> (string.trim().equals(<span class="string">""</span>)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 4、将含有值得字符转转换为日期</span></span><br><span class="line">SimpleDateFormat df = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">Date date = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">date = (Date) df.parse(string);</span><br><span class="line">&#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line"><span class="comment">// 将异常抛给下一级必须加上e——异常链不能断。</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> (T) date;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;, Date<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"> </span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line">String date = <span class="string">"1992-09-12"</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">BeanUtils.setProperty(p, <span class="string">"date"</span>, date);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(p.getDate());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用BeanUtils本身自带的转换器"><a href="#使用BeanUtils本身自带的转换器" class="headerlink" title="使用BeanUtils本身自带的转换器"></a>使用BeanUtils本身自带的转换器</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ConvertUtils.register(<span class="keyword">new</span> DateLocaleConverter(), Date<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">String date = <span class="string">"1990-08-09"</span>;</span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">BeanUtils.setProperty(p, <span class="string">"date"</span>, date);</span><br><span class="line">System.out.println(p.getDate());</span><br><span class="line">&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实际开发中常常把客户机提交的元素封装到Map集合中去。"><a href="#实际开发中常常把客户机提交的元素封装到Map集合中去。" class="headerlink" title="实际开发中常常把客户机提交的元素封装到Map集合中去。"></a>实际开发中常常把客户机提交的元素封装到Map集合中去。</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test05</span><span class="params">()</span> </span>&#123;</span><br><span class="line">String age = <span class="string">"24"</span>;</span><br><span class="line">String name = <span class="string">"小明"</span>;</span><br><span class="line">String sex = <span class="string">"男"</span>;</span><br><span class="line">String date = <span class="string">"1990-08-09"</span>;</span><br><span class="line">Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">map.put(name, name);</span><br><span class="line">map.put(age, age);</span><br><span class="line">map.put(date, date);</span><br><span class="line">map.put(sex, sex);</span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// 用map集合中的值填充Bean属性</span></span><br><span class="line">BeanUtils.populate(p, map);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>收集的更加<a href="https://blog.csdn.net/wzc1991520/article/details/80176679?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param" target="_blank" rel="noopener">详细的博文</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200818110842814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;BenUtils&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;Beautils介绍&quot;&gt;&lt;a href=&quot;#Beautils介绍&quot; class=&quot;headerlink&quot; title=&quot;Beautils介绍&quot;&gt;&lt;/a&gt;Beautils介绍&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;Apache组织开发了一套用于操作JavaBean的API，
这套API考虑到了很多实际开发中的应用场景，
因此在实际开发中很多程序员使用这套API操作JavaBean，以简化程序代码的编写。&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在工程下新建lib目录，导入commons-beanutils-1.8.3.jar 和支持包commons-logging-1.1.1.jar&lt;/p&gt;
&lt;p&gt;选中两个包，右键add as library&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="经验之谈" scheme="https://oldaz.github.io/tags/%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88/"/>
    
      <category term="工具类" scheme="https://oldaz.github.io/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>速解HTTP协议之请求消息</title>
    <link href="https://oldaz.github.io/2020/08/16/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8B%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF/"/>
    <id>https://oldaz.github.io/2020/08/16/HTTP%E5%8D%8F%E8%AE%AE%E4%B9%8B%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF/</id>
    <published>2020-08-16T02:24:09.000Z</published>
    <updated>2020-08-16T02:26:08.193Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200816100624670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="HTTP"></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><pre><code>HTTP : Hyper Text Transfer Protocol   超文本传输协议</code></pre><h2 id="超文本传输协议"><a href="#超文本传输协议" class="headerlink" title="超文本传输协议"></a>超文本传输协议</h2><pre><code>传输协议：定义了客户端和服务器端通讯时，发送数据的格式</code></pre><a id="more"></a><p>  <img src="https://img-blog.csdnimg.cn/20200815171936872.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><pre><code>1.基于TCP/IP的高级协议2. 默认端口号：803. 基于请求/响应模型的：一次请求对应一次响应 4. 无状态的：每次请求之间，相互独立，不能交互数据</code></pre><p>历史版本：</p><pre><code>1.0 ：每一次请求都会建立新的连接1.1 ：复用连接，对缓存的支持比较好。</code></pre><h1 id="请求消息数据格式"><a href="#请求消息数据格式" class="headerlink" title="请求消息数据格式"></a>请求消息数据格式</h1><p><img src="https://img-blog.csdnimg.cn/20200816090007260.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="请求消息"></p><h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><h3 id="1-请求行"><a href="#1-请求行" class="headerlink" title="1.请求行"></a>1.请求行</h3><pre><code>请求方式  请求url  请求协议/版本GET  /2_Servlet4_0_war_exploded/s3  HTTP/1.1   *请求方式：       HTTP协议中有7中请求方式，常用的2        GET ：           1.请求参数在请求行中，在url后           2.请求的url长度有限制           3.不太安全        POST：            1.请求参数在请求体中            2.请求的url长度没有限制（文件上传）            3.相对安全</code></pre><h3 id="2-请求头"><a href="#2-请求头" class="headerlink" title="2.请求头"></a>2.请求头</h3><p> 客户端浏览器告诉服务端的一些信息</p><pre><code>请求头名称 ：请求值 *常见的请求头：      1.User-Agent:浏览器告诉服务器，我访问你时使用的浏览器版本信息           *可以在服务器端获取该头的信息，解决浏览器的兼容性问题   2.Referer：url        *告诉服务器，我（当前请求）从哪里来？       作用：          1.防盗链          2.统计的工作</code></pre><p><img src="https://img-blog.csdnimg.cn/20200816095517571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="盗链"></p><h3 id="3-请求空行"><a href="#3-请求空行" class="headerlink" title="3.请求空行"></a>3.请求空行</h3><pre><code>空行（分割POST请求的请求头和请求体）</code></pre><h3 id="4-请求体（正文）"><a href="#4-请求体（正文）" class="headerlink" title="4.请求体（正文）"></a>4.请求体（正文）</h3><pre><code>封装POST请求消息的请求参数的</code></pre><h3 id="字符串格式"><a href="#字符串格式" class="headerlink" title="字符串格式"></a>字符串格式</h3><pre><code>GET /2_Servlet4_0_war_exploded/s3 HTTP/1.1Host: localhost:8080User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding: gzip, deflateConnection: keep-aliveCookie: Idea-41e9004a=83460dde-8447-48d3-bfc3-ed6bae83b943Upgrade-Insecure-Requests: 1Cache-Control: max-age=0 user=zhaoyun</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200816100624670.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;HTTP&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;HTTP : Hyper Text Transfer Protocol   超文本传输协议&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;超文本传输协议&quot;&gt;&lt;a href=&quot;#超文本传输协议&quot; class=&quot;headerlink&quot; title=&quot;超文本传输协议&quot;&gt;&lt;/a&gt;超文本传输协议&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;传输协议：定义了客户端和服务器端通讯时，发送数据的格式&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="HTTP" scheme="https://oldaz.github.io/tags/HTTP/"/>
    
      <category term="快速入门" scheme="https://oldaz.github.io/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb知识核心--Servlet体系结构</title>
    <link href="https://oldaz.github.io/2020/08/15/JavaWeb%E7%9F%A5%E8%AF%86%E6%A0%B8%E5%BF%83--Servlet%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"/>
    <id>https://oldaz.github.io/2020/08/15/JavaWeb%E7%9F%A5%E8%AF%86%E6%A0%B8%E5%BF%83--Servlet%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/</id>
    <published>2020-08-15T04:09:06.000Z</published>
    <updated>2020-08-15T04:09:57.518Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200815120803119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="体系结构"></p><h1 id="Servlet-–接口"><a href="#Servlet-–接口" class="headerlink" title="Servlet –接口"></a>Servlet –接口</h1><pre><code>  Servlet          --接口GenericServlet    --抽象类HttpServlet       --抽象类</code></pre>  <a id="more"></a><h2 id="GenericServlet"><a href="#GenericServlet" class="headerlink" title="GenericServlet"></a>GenericServlet</h2><pre><code>里面只有一个service方法作为抽象，因为里面其他方法已经默认做了空实现其他方法可选择性实现</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo2</span> <span class="keyword">extends</span> <span class="title">GenericServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="HttpServlet"><a href="#HttpServlet" class="headerlink" title="HttpServlet"></a>HttpServlet</h1><p><img src="https://img-blog.csdnimg.cn/20200815113719610.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><pre><code>因为要判断get和post方式，很麻烦，因此sun公司帮我们实现了这个判断-HttpServletHttpServlet：对http协议的封装，简化操作</code></pre><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li>定义类继承HttpServlet</li><li>复写doGet() / doPost()方法</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="meta">@WebServlet</span>(urlPatterns = <span class="string">"/s3"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo3</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"doget..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"doPost..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Servlet相关配置"><a href="#Servlet相关配置" class="headerlink" title="Servlet相关配置"></a>Servlet相关配置</h1><h2 id="urlpartten"><a href="#urlpartten" class="headerlink" title="urlpartten"></a>urlpartten</h2><ol><li><p>Servlet访问路径<br>   注解里面可以定义多个路径<br> @WebServlet(urlPatterns = {“/s3”,”/s31”,”/s32”})</p></li><li><p>路径定义规则</p><pre><code>1.   /xxx2.   /xxx/xxx   :多层路径，目录结构        @WebServlet(urlPatterns = &quot;/user/s1&quot;)        @WebServlet(urlPatterns = &quot;/user/*&quot;)        @WebServlet(urlPatterns = &quot;/*&quot;)        //*代表任意路径，通配符3.   *.do        @WebServlet(urlPatterns = &quot;*.do&quot;)        // 路劲前面不能加/，否则报错，访问为xxx.do        //后缀名可以为任意的</code></pre></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200815120803119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;体系结构&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;Servlet-–接口&quot;&gt;&lt;a href=&quot;#Servlet-–接口&quot; class=&quot;headerlink&quot; title=&quot;Servlet –接口&quot;&gt;&lt;/a&gt;Servlet –接口&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;  Servlet          --接口
GenericServlet    --抽象类
HttpServlet       --抽象类&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="Servlet" scheme="https://oldaz.github.io/tags/Servlet/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb知识核心--Servlet周期和注解</title>
    <link href="https://oldaz.github.io/2020/08/15/JavaWeb%E7%9F%A5%E8%AF%86%E6%A0%B8%E5%BF%83--Servlet%E5%91%A8%E6%9C%9F%E5%92%8C%E6%B3%A8%E8%A7%A3/"/>
    <id>https://oldaz.github.io/2020/08/15/JavaWeb%E7%9F%A5%E8%AF%86%E6%A0%B8%E5%BF%83--Servlet%E5%91%A8%E6%9C%9F%E5%92%8C%E6%B3%A8%E8%A7%A3/</id>
    <published>2020-08-15T03:06:28.000Z</published>
    <updated>2020-08-15T03:07:13.777Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200815110437717.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="servlet"></p><h1 id="Servlet生命周期"><a href="#Servlet生命周期" class="headerlink" title="Servlet生命周期"></a>Servlet生命周期</h1><h2 id="最重要的三个方法"><a href="#最重要的三个方法" class="headerlink" title="最重要的三个方法"></a>最重要的三个方法</h2><ol><li><p>被创建</p><pre><code>执行init()方法只执行一次</code></pre></li><li><p>提供服务</p><pre><code>执行Service方法，执行多次</code></pre></li><li><p>被销毁</p><pre><code>执行Destory()方法，只执行一次</code></pre><a id="more"></a><h2 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h2></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo2</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//初始化方法，在servlet被创建之前执行，只会执行一次</span></span><br><span class="line">    <span class="comment">//加载资源</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"init..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//获取Servletconfig对象的，就是Servlet的配置对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//提供服务的方法每一次Servlet被访问时，执行。执行多次</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Servlet..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//获取Servlet的一些信息，版本，作者等等。。。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//销毁方法，只有在服务器正常关闭时会执行，执行一次</span></span><br><span class="line">              <span class="comment">//被销毁之前执行，一般用于释放资源</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"destory..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="小疑问"><a href="#小疑问" class="headerlink" title="小疑问"></a>小疑问</h2><h3 id="Servlet什么时候被创建？"><a href="#Servlet什么时候被创建？" class="headerlink" title="Servlet什么时候被创建？"></a>Servlet什么时候被创建？</h3><pre><code>* 默认情况下，第一次被访问时* servlet被创建。可以配置指定Servlet的创建时机。</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!--    配置servlet标签--&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        这是配置名称为Demo1的文件路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.web.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        指定Servlet的创建时间</span></span><br><span class="line"><span class="comment">            1.第一次被访问时。创建</span></span><br><span class="line"><span class="comment">                标签里面的值为负数，第一次访问时被创建</span></span><br><span class="line"><span class="comment">            2.在服务器启动时，创建</span></span><br><span class="line"><span class="comment">                标签里面的值为0或正整数，服务器启动时被创建</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        这是给名称demo1配置访问路径/demo1--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/demo1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Servlet是单例的"><a href="#Servlet是单例的" class="headerlink" title="Servlet是单例的"></a>Servlet是单例的</h3><pre><code>Servlet的init()方法，只执行一次，说明Servlet在内存中只存在一个对象，Servlet是单例的</code></pre><p>多个用户同时访问时。可能会存在线程安全问题</p><pre><code>解决：      1.不能加锁    2.设置全局静态代码块，严重影响性能。      解决方案：设置局部代码块，即使定义了成员变量，也不要对其修改值</code></pre><h1 id="Servlet3-0-4-0"><a href="#Servlet3-0-4-0" class="headerlink" title="Servlet3.0/4.0"></a>Servlet3.0/4.0</h1><p>支持注解配置。可以选择不使用web.xml</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li><p>创建JavaEE项目，选择Servlet版本3.0以上，可以不创建web.xml</p></li><li><p>定义一个类，实现Servlet接口（浏览器路径访问为，get方法访问）</p></li><li><p>复写方法</p></li><li><p>在类上使用@webServlet注解，进行配置</p><pre><code>@WebServlet(name = &quot;s1&quot;,urlPatterns = &quot;/s1&quot;)</code></pre></li></ol><p><img src="https://img-blog.csdnimg.cn/20200815102949169.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="创建步骤"><br><img src="https://img-blog.csdnimg.cn/2020081510361491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="创建2"><br><img src="https://img-blog.csdnimg.cn/20200815103649444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="代码"><br><img src="https://img-blog.csdnimg.cn/2020081510401558.png#pic_center" alt="访问"><br><img src="https://img-blog.csdnimg.cn/20200815104107109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="控制台"></p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><pre><code>在Servlet3.0中，注解内部数据是这样的</code></pre><p><img src="https://img-blog.csdnimg.cn/20200815104406443.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><pre><code>有一个属性value，一般默认为最重要的urlpatterns，可以使用           @WebServlet(&quot;/s1&quot;)。在注解4.0版本中，必须自己指定urlpatterns:      @WebServlet(name = &quot;s1&quot;,urlPatterns = &quot;/s1&quot;)</code></pre><h1 id="tomcat与IDEA"><a href="#tomcat与IDEA" class="headerlink" title="tomcat与IDEA"></a>tomcat与IDEA</h1><p><img src="https://img-blog.csdnimg.cn/20200815105956207.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200815110437717.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;servlet&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;Servlet生命周期&quot;&gt;&lt;a href=&quot;#Servlet生命周期&quot; class=&quot;headerlink&quot; title=&quot;Servlet生命周期&quot;&gt;&lt;/a&gt;Servlet生命周期&lt;/h1&gt;&lt;h2 id=&quot;最重要的三个方法&quot;&gt;&lt;a href=&quot;#最重要的三个方法&quot; class=&quot;headerlink&quot; title=&quot;最重要的三个方法&quot;&gt;&lt;/a&gt;最重要的三个方法&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;被创建&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;执行init()方法只执行一次&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;提供服务&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;执行Service方法，执行多次&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;被销毁&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;执行Destory()方法，只执行一次&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="Servlet" scheme="https://oldaz.github.io/tags/Servlet/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb知识核心--Servlet快速入门</title>
    <link href="https://oldaz.github.io/2020/08/14/JavaWeb%E7%9F%A5%E8%AF%86%E6%A0%B8%E5%BF%83--Servlet%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    <id>https://oldaz.github.io/2020/08/14/JavaWeb%E7%9F%A5%E8%AF%86%E6%A0%B8%E5%BF%83--Servlet%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</id>
    <published>2020-08-14T09:45:45.000Z</published>
    <updated>2020-08-14T09:47:11.429Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200814174407679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="servlet快速入门"></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><pre><code>全名叫server  applet ，运行在服务端的小程序   servlet就是一个接口，定义了Java类被浏览器访问到（tomcat识别）的规则。   *将来我们自己定义一个类，实现Servlet接口，复写方法</code></pre><a id="more"></a><p><img src="https://img-blog.csdnimg.cn/20200814161110256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="servlet"></p><h1 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h1><ol><li>创建JavaEE项目</li><li>定义一个类，实现Servlet接口</li><li>实现接口中的抽象方法</li><li>配置Servlet</li></ol><h2 id="创建JavaEE项目"><a href="#创建JavaEE项目" class="headerlink" title="创建JavaEE项目"></a>创建JavaEE项目</h2><p><img src="https://img-blog.csdnimg.cn/20200814165340757.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>点击next以后，输入项目名称。点击finish。即可完成创建。</p><h2 id="定义一个类，实现Servlet接口"><a href="#定义一个类，实现Servlet接口" class="headerlink" title="定义一个类，实现Servlet接口"></a>定义一个类，实现Servlet接口</h2><p><img src="https://img-blog.csdnimg.cn/2020081416561531.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>创建一个类，实现接口Servlet。<br><img src="https://img-blog.csdnimg.cn/20200814165711754.png#pic_center" alt=""><br>如果servlet没有导入就去添加以下Tomcat的依赖：<br><img src="https://img-blog.csdnimg.cn/2020081416593896.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="1"><br><img src="https://img-blog.csdnimg.cn/20200814170326191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h2 id="实现接口中的抽象方法"><a href="#实现接口中的抽象方法" class="headerlink" title="实现接口中的抽象方法"></a>实现接口中的抽象方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.web.servlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * Servlet快速入门</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo1</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//提供服务的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"hello Servlet"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="配置Servlet"><a href="#配置Servlet" class="headerlink" title="配置Servlet"></a>配置Servlet</h2><p>在web/wei-inf 文件夹下面的xml文件里面配置servlet<br><img src="https://img-blog.csdnimg.cn/20200814170546478.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="配置"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    配置servlet标签--&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--    配置servlet标签--&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        这是配置名称为Demo1的文件路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.web.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        这是给名称demo1配置访问路径/demo1--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/demo1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="启动小案例"><a href="#启动小案例" class="headerlink" title="启动小案例"></a>启动小案例</h1><p>点击启动后<br>在浏览器访问/demo1<br><img src="https://img-blog.csdnimg.cn/20200814171624727.png#pic_center" alt=""><br>控制台会出现</p><p><img src="https://img-blog.csdnimg.cn/20200814171706243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="控制台"></p><pre><code>出现了hello Servlet*里面出现的红色字体，是tomcat服务器的信息，不是报错。</code></pre><h1 id="Servlet执行原理"><a href="#Servlet执行原理" class="headerlink" title="Servlet执行原理"></a>Servlet执行原理</h1><ol><li>当服务器接收到客户端的请求后，会解析请求URL路径，获取访问的Servlet的资源路径。</li><li>查找web.xml文件，是否有对应的标签<url-pattern>内容。</li><li>如果有，则找到对应的<serclet-class>对应的全类名</li><li>tomcat会将字节码文件加载进内存，并且创建其对象。</li><li>调用其方法。<br><img src="https://img-blog.csdnimg.cn/20200814173455443.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="原理"></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200814174407679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;servlet快速入门&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;全名叫server  applet ，运行在服务端的小程序
   servlet就是一个接口，定义了Java类被浏览器访问到（tomcat识别）的规则。
   *将来我们自己定义一个类，实现Servlet接口，复写方法&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="快速入门" scheme="https://oldaz.github.io/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="Servlet" scheme="https://oldaz.github.io/tags/Servlet/"/>
    
  </entry>
  
  <entry>
    <title>xml解析--Jsoup快捷查询方式</title>
    <link href="https://oldaz.github.io/2020/08/13/xml%E8%A7%A3%E6%9E%90--Jsoup%E5%BF%AB%E6%8D%B7%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F/"/>
    <id>https://oldaz.github.io/2020/08/13/xml%E8%A7%A3%E6%9E%90--Jsoup%E5%BF%AB%E6%8D%B7%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F/</id>
    <published>2020-08-13T08:18:35.000Z</published>
    <updated>2020-08-13T08:21:55.237Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200813152407270.png#pic_center" alt="查询"></p><h1 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h1><pre><code>以前当我们想获取&lt;student&gt; -&gt; &lt;name&gt;  -&gt;   &lt;xing&gt; -&gt; &quot;张&quot;时，我们需要先依次获取对应的标签。在获取内容   我们希望有一种快捷的方式，一下子就能定位到这里。   因此就有了快捷查询方式。</code></pre><a id="more"></a><h1 id="快捷查询方式"><a href="#快捷查询方式" class="headerlink" title="快捷查询方式"></a>快捷查询方式</h1><h2 id="selector"><a href="#selector" class="headerlink" title="selector"></a>selector</h2><pre><code>选择器查询  使用方法：Elements select(String cssQuery) </code></pre><h3 id="selector语法"><a href="#selector语法" class="headerlink" title="selector语法"></a>selector语法</h3><p> 参考selector中定义的语法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xml.jsoup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * 选择器查询</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsoupDemo5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1 获取student。xml的路径</span></span><br><span class="line">        String path = JsoupDemo2.class.getResource("student.xml").getPath();</span><br><span class="line">        <span class="comment">//2.获取Document对象</span></span><br><span class="line">        Document document = Jsoup.parse(<span class="keyword">new</span> File(path), <span class="string">"utf-8"</span>);</span><br><span class="line">        <span class="comment">//3.查询name标签</span></span><br><span class="line">        Elements elements = document.select(<span class="string">"name"</span>);</span><br><span class="line">        System.out.println(elements);</span><br><span class="line">        System.out.println(<span class="string">"---------------"</span>);</span><br><span class="line">        <span class="comment">//4.查询id值为id01的元素</span></span><br><span class="line">        Elements elements1 = document.select(<span class="string">"#id01"</span>);</span><br><span class="line">        System.out.println(elements1);</span><br><span class="line">        System.out.println(<span class="string">"---------------"</span>);</span><br><span class="line">        <span class="comment">//5.获取student标签并且number属性值为xml_0001的age子标签</span></span><br><span class="line">          <span class="comment">//5.1获取student标签并且number属性为xml_0001</span></span><br><span class="line">        Elements elements2 = document.select(<span class="string">"student[number='xml_0001']"</span>);</span><br><span class="line">        System.out.println(elements2);</span><br><span class="line">        System.out.println(<span class="string">"---------------"</span>);</span><br><span class="line">          <span class="comment">//5.2获取student标签并且number属性值为xml_0001的age子标签</span></span><br><span class="line">        Elements elements3 = document.select(<span class="string">"student[number='xml_0001']&gt;age"</span>);</span><br><span class="line">        System.out.println(elements3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="XPath"><a href="#XPath" class="headerlink" title="XPath"></a>XPath</h2><p> w3c定义的一种语法</p><pre><code> XPath即为XML路径语言（XML Path Language）， 它是一种用来确定XML文档中某部分位置的语言。XPath基于XML的树状结构，提供在数据结构树中找寻节点的能力。起初XPath的提出的初衷是将其作为一个通用的、介于XPointer与XSL间的语法模型。但是XPath很快的被开发者采用来当作小型查询语言。</code></pre><p><strong>使用Jsoup的XPath需要导入额外的jar包</strong></p><pre><code>JsoupXpath-0.3.2.jar</code></pre><p>参考w3c的<a href="https://www.w3school.com.cn/xpath/xpath_syntax.asp" target="_blank" rel="noopener">XPath语法文档</a>来使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xml.jsoup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.wanghaomiao.xpath.model.JXDocument;</span><br><span class="line"><span class="keyword">import</span> cn.wanghaomiao.xpath.model.JXNode;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * XPath查询</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsoupDemo6</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1 获取student。xml的路径</span></span><br><span class="line">        String path = JsoupDemo2.class.getResource("student.xml").getPath();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取Document对象</span></span><br><span class="line">        Document document = Jsoup.parse(<span class="keyword">new</span> File(path), <span class="string">"utf-8"</span>);</span><br><span class="line">        <span class="comment">//3.根据document对象，创建JXDocument对象</span></span><br><span class="line">        JXDocument jxDocument = <span class="keyword">new</span> JXDocument(document);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.1结合xpath语法查询所有的student标签</span></span><br><span class="line">        List&lt;JXNode&gt; jxNodes = jxDocument.selN(<span class="string">"//student"</span>);</span><br><span class="line">        <span class="keyword">for</span> (JXNode jxNode:jxNodes)&#123;</span><br><span class="line">        System.out.println(jxNode);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"==================="</span>);</span><br><span class="line">        <span class="comment">//4.2查询所有的student标签下的那么标签</span></span><br><span class="line">        List&lt;JXNode&gt; jxNodes2 = jxDocument.selN(<span class="string">"//student/name"</span>);</span><br><span class="line">        <span class="keyword">for</span> (JXNode jxNode:jxNodes2)&#123;</span><br><span class="line">            System.out.println(jxNode);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"==================="</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.3查询student标签下带有属性的name标签</span></span><br><span class="line">        List&lt;JXNode&gt; jxNodes3 = jxDocument.selN(<span class="string">"//student/name[@id]"</span>);</span><br><span class="line">        <span class="keyword">for</span> (JXNode jxNode:jxNodes3)&#123;</span><br><span class="line">            System.out.println(jxNode);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"==================="</span>);</span><br><span class="line">        <span class="comment">//4.3查询student标签下带有属性的name标签,并且id的属性值为id01</span></span><br><span class="line">        List&lt;JXNode&gt; jxNodes4 = jxDocument.selN(<span class="string">"//student/name[@id='id01']"</span>);</span><br><span class="line">        <span class="keyword">for</span> (JXNode jxNode:jxNodes4)&#123;</span><br><span class="line">            System.out.println(jxNode);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"==================="</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200813152407270.png#pic_center&quot; alt=&quot;查询&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;引入&quot;&gt;&lt;a href=&quot;#引入&quot; class=&quot;headerlink&quot; title=&quot;引入&quot;&gt;&lt;/a&gt;引入&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;以前当我们想获取&amp;lt;student&amp;gt; -&amp;gt; &amp;lt;name&amp;gt;  -&amp;gt;   &amp;lt;xing&amp;gt; -&amp;gt; &amp;quot;张&amp;quot;
时，我们需要先依次获取对应的标签。在获取内容
   我们希望有一种快捷的方式，一下子就能定位到这里。
   因此就有了快捷查询方式。&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="快速入门" scheme="https://oldaz.github.io/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="xml" scheme="https://oldaz.github.io/tags/xml/"/>
    
      <category term="Jsoup" scheme="https://oldaz.github.io/tags/Jsoup/"/>
    
  </entry>
  
  <entry>
    <title>xml解析--Jsoup快速入门</title>
    <link href="https://oldaz.github.io/2020/08/13/xml%E8%A7%A3%E6%9E%90--Jsoup%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    <id>https://oldaz.github.io/2020/08/13/xml%E8%A7%A3%E6%9E%90--Jsoup%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</id>
    <published>2020-08-13T06:35:50.000Z</published>
    <updated>2020-08-13T08:21:17.414Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200813143329389.png#pic_center" alt="jsoup"></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p> Jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</p><a id="more"></a><h1 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h1><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li><p>导入jar包</p><pre><code>jsoup-1.11.2.jar</code></pre></li><li><p>获取Document</p></li><li><p>获取对应的标签Element对象</p></li><li><p>获取数据</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xml.jsoup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * Jsoup快速入门</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsoupDemo1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//2.获取Document对象,根据xml文档来获取</span></span><br><span class="line">        <span class="comment">//2.1 获取student。xml的路径</span></span><br><span class="line">        String path = JsoupDemo1.class.getResource("student.xml").getPath();</span><br><span class="line">        <span class="comment">//2.2解析xml文档，加载文档进入内存，获取dom树--&gt;Document</span></span><br><span class="line">        Document document = Jsoup.parse(<span class="keyword">new</span> File(path), <span class="string">"utf-8"</span>);</span><br><span class="line">        <span class="comment">//3.获取元素对象</span></span><br><span class="line">        Elements elements = document.getElementsByTag(<span class="string">"name"</span>);</span><br><span class="line">        System.out.println(elements.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.1获取第一个name的element对象</span></span><br><span class="line">        Element element = elements.get(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.2获取数据</span></span><br><span class="line">        String name = element.text();</span><br><span class="line">        System.out.println(name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="对象的使用"><a href="#对象的使用" class="headerlink" title="对象的使用"></a>对象的使用</h1><ol><li>Jsoup：工具类，可以解析html或者xml文档返回给Document对象。</li><li>Document：文档对象，代表内存中的dom树</li><li>Elements：元素Element对象的集合。可以当作ArrayList<Element>来使用</li><li>Element：元素对象</li><li>Node：节点对象<h2 id="Jsoup对象"><a href="#Jsoup对象" class="headerlink" title="Jsoup对象"></a>Jsoup对象</h2><ul><li>parse：解析html或者xml文档，返回Document<ul><li>parse(File in,String charsetName) :解析html或者xml文件的</li><li>parse(String html):解析xml或者html字符串的</li><li>parse(URL url ,int timeoutMillis):通过网络路径获取指定的HTML和xml的文档对象</li></ul></li></ul></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xml.jsoup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * Jsoup对象功能</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsoupDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//2.1 获取student。xml的路径</span></span><br><span class="line">        String path = JsoupDemo2.class.getResource("student.xml").getPath();</span><br><span class="line">        <span class="comment">//2.2解析xml文档，加载文档进入内存，获取dom树--&gt;Document</span></span><br><span class="line"><span class="comment">//        Document document = Jsoup.parse(new File(path), "utf-8");</span></span><br><span class="line"><span class="comment">//        System.out.println(document);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//parse(String html):解析xml或者html字符串的</span></span><br><span class="line">        String str = <span class="string">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n"</span> +</span><br><span class="line">                <span class="string">" &lt;students   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"</span> +</span><br><span class="line">                <span class="string">" \t\t\t xmlns=\"http://www.itcast.cn/xml\" \n"</span> +</span><br><span class="line">                <span class="string">" \t\t   xsi:schemaLocation=\"http://www.itcast.cn/xml  student.xsd\"\n"</span> +</span><br><span class="line">                <span class="string">" \t\t    &gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t&lt;student number=\"xml_0001\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t\t&lt;name&gt;tom&lt;/name&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t\t&lt;age&gt;18&lt;/age&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t\t&lt;sex&gt;male&lt;/sex&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t&lt;/student&gt;\n"</span> +</span><br><span class="line">                <span class="string">"\t&lt;student number=\"xml_0002\"&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t\t&lt;name&gt;mark&lt;/name&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t\t&lt;age&gt;18&lt;/age&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t\t&lt;sex&gt;female&lt;/sex&gt;\n"</span> +</span><br><span class="line">                <span class="string">" \t&lt;/student&gt;\n"</span> +</span><br><span class="line">                <span class="string">"\t\t \n"</span> +</span><br><span class="line">                <span class="string">" &lt;/students&gt;"</span>;</span><br><span class="line">        Document document = Jsoup.parse(str);</span><br><span class="line">        System.out.println(document);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//parse(URL url ,int timeoutMillis):通过网络路径获取指定的HTML和xml的文档对象</span></span><br><span class="line">        <span class="comment">//代表网络中的资源路径</span></span><br><span class="line">        URL url = <span class="keyword">new</span> URL(<span class="string">"http://oldaz.top/"</span>);</span><br><span class="line">        Document document1 = Jsoup.parse(url, <span class="number">10000</span>);</span><br><span class="line">        System.out.println(document1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Document对象"><a href="#Document对象" class="headerlink" title="Document对象"></a>Document对象</h2><pre><code>文本对象，代表内存中的dom树</code></pre><h3 id="功能：获取Element对象"><a href="#功能：获取Element对象" class="headerlink" title="功能：获取Element对象"></a>功能：获取Element对象</h3><pre><code>getElementById(id):根据id属性值获取唯一的element对象getElementsByTag(String tagName):根据标签名称获取元素对象集合getElementsByAttribute(String key):根据属性名称来获取元素元素对象集合getElementsByAttribute(String key,String value):                     根据对应的属性名和属性值获取元素对象集合。</code></pre><h3 id="案例代码"><a href="#案例代码" class="headerlink" title="案例代码"></a>案例代码</h3><p>xml：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">students</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">student</span> <span class="attr">number</span>=<span class="string">"xml_0001"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span> <span class="attr">id</span> =<span class="string">"id01"</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">age</span>&gt;</span>18<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">sex</span>&gt;</span>male<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">student</span> <span class="attr">number</span>=<span class="string">"xml_0002"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>mark<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">age</span>&gt;</span>18<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">sex</span>&gt;</span>female<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure><p>获取Elements对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xml.jsoup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * Document/Element对象功能</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsoupDemo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1 获取student。xml的路径</span></span><br><span class="line">        String path = JsoupDemo2.class.getResource("student.xml").getPath();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取Document对象</span></span><br><span class="line">        Document document = Jsoup.parse(<span class="keyword">new</span> File(path), <span class="string">"utf-8"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.获取元素对象</span></span><br><span class="line">        <span class="comment">// 3.1获取所有的student对象</span></span><br><span class="line">        Elements elements = document.getElementsByTag(<span class="string">"student"</span>);</span><br><span class="line">        System.out.println(elements);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"----------getEleentsById-----------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.2获取属性名为id的元素对象</span></span><br><span class="line">        Elements elements1 = document.getElementsByAttribute(<span class="string">"id"</span>);</span><br><span class="line">        System.out.println(elements1);</span><br><span class="line">        System.out.println(<span class="string">"--------------------"</span>);</span><br><span class="line">        <span class="comment">//3.3获取number属性值为xml_0001的元素对象</span></span><br><span class="line">        Elements elements2 = document.getElementsByAttributeValue(<span class="string">"number"</span>, <span class="string">"xml_0001"</span>);</span><br><span class="line">        System.out.println(elements2);</span><br><span class="line">        System.out.println(<span class="string">"--------------------"</span>);</span><br><span class="line">            <span class="comment">//3.4获取id属性值的元素对象</span></span><br><span class="line">        Element id01 = document.getElementById(<span class="string">"id01"</span>);</span><br><span class="line">        System.out.println(id01);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Element对象"><a href="#Element对象" class="headerlink" title="Element对象"></a>Element对象</h2><h3 id="获取子元素对象"><a href="#获取子元素对象" class="headerlink" title="获取子元素对象"></a>获取子元素对象</h3><pre><code>getElementById(id):根据id属性值获取唯一的element对象getElementsByTag(String tagName):根据标签名称获取元素对象集合getElementsByAttribute(String key):根据属性名称来获取元素元素对象集合getElementsByAttribute(String key,String value):                     根据对应的属性名和属性值获取元素对象集合。</code></pre><h3 id="获取属性值"><a href="#获取属性值" class="headerlink" title="获取属性值"></a>获取属性值</h3><pre><code>String attr(String key):根据属性名称获取属性值</code></pre><h3 id="获取文本内容"><a href="#获取文本内容" class="headerlink" title="获取文本内容"></a>获取文本内容</h3><pre><code>String text():获取文本内容String html():获取标签体的所有内容（包括子标签的字符串内容）</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xml.jsoup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> OldAZ-PC</span></span><br><span class="line"><span class="comment"> * Element对象功能</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsoupDemo4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1 获取student。xml的路径</span></span><br><span class="line">        String path = JsoupDemo2.class.getResource("student.xml").getPath();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取Document对象</span></span><br><span class="line">        Document document = Jsoup.parse(<span class="keyword">new</span> File(path), <span class="string">"utf-8"</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  Element对象</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  获取子元素对象</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       getElementById(id):根据id属性值获取唯一的element对象</span></span><br><span class="line"><span class="comment">       getElementsByTag(String tagName):根据标签名称获取元素对象集合</span></span><br><span class="line"><span class="comment">       getElementsByAttribute(String key):根据属性名称来获取元素元素对象集合</span></span><br><span class="line"><span class="comment">       getElementsByAttribute(String key,String value):</span></span><br><span class="line"><span class="comment">                            根据对应的属性名和属性值获取元素对象集合。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  获取属性值</span></span><br><span class="line"><span class="comment">    String attr(String key):根据属性名称获取属性值</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  获取文本内容</span></span><br><span class="line"><span class="comment">    String text():获取文本内容</span></span><br><span class="line"><span class="comment">    String html():获取标签体的所有内容（包括子标签的字符串内容）</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过document 对象获取name标签，获取所有的name标签   2个</span></span><br><span class="line">        Elements elements = document.getElementsByTag(<span class="string">"name"</span>);</span><br><span class="line">        System.out.println(elements.size());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//通过Element对象获取子标签对象</span></span><br><span class="line">        System.out.println(<span class="string">"---------------"</span>);</span><br><span class="line">        Element student_1 = document.getElementsByTag(<span class="string">"student"</span>).get(<span class="number">0</span>);</span><br><span class="line">        Elements stdent_1_name = student_1.getElementsByTag(<span class="string">"name"</span>);</span><br><span class="line">        System.out.println(stdent_1_name.size());</span><br><span class="line">            <span class="comment">//获取student对象的属性值</span></span><br><span class="line">        String number = student_1.attr(<span class="string">"number"</span>);</span><br><span class="line">        System.out.println(number);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取文本内容，text只获取纯文本内容，html会获取标签</span></span><br><span class="line">        String text = stdent_1_name.text();</span><br><span class="line">        String html = stdent_1_name.html();</span><br><span class="line">        System.out.println(text);</span><br><span class="line">        System.out.println(html);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Node节点对象"><a href="#Node节点对象" class="headerlink" title="Node节点对象"></a>Node节点对象</h2><pre><code>是Document和Element的父类 主要是包含增删改的方法</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200813143329389.png#pic_center&quot; alt=&quot;jsoup&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;p&gt; Jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="快速入门" scheme="https://oldaz.github.io/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="xml" scheme="https://oldaz.github.io/tags/xml/"/>
    
      <category term="Jsoup" scheme="https://oldaz.github.io/tags/Jsoup/"/>
    
  </entry>
  
  <entry>
    <title>来看看XML到底是个啥--xml解析</title>
    <link href="https://oldaz.github.io/2020/08/12/%E6%9D%A5%E7%9C%8B%E7%9C%8BXML%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E5%95%A5--xml%E8%A7%A3%E6%9E%90/"/>
    <id>https://oldaz.github.io/2020/08/12/%E6%9D%A5%E7%9C%8B%E7%9C%8BXML%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E5%95%A5--xml%E8%A7%A3%E6%9E%90/</id>
    <published>2020-08-12T08:38:30.000Z</published>
    <updated>2020-08-12T08:39:16.160Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200812163705788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="xml解析"></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p>操作xml文档，将文档中的数据读取到内存中。</p><pre><code>操作xml文档：     1.解析（读取）：将文档中的数据读取到内存中              2.写入：将内存中的数据写到xml文档中。持久化的存储。</code></pre><a id="more"></a><h1 id="解析xml的方式"><a href="#解析xml的方式" class="headerlink" title="解析xml的方式"></a>解析xml的方式</h1><p>两种思想</p><ul><li><p>DOM思想（服务器端）</p><pre><code>将标记语言文档一次性加入内存中，在内存中形成dom树       优点：操作方便，可以对文档进行CRUD（增删改查）的所有操作       缺点：占内存（一次性读取，形成的dom树是文档大小的上千倍）</code></pre></li><li><p>SAX思想（移动端）</p><pre><code>逐行读取，基于事件驱动的   优点：不占内存   缺点：只能读取（不能增删改） </code></pre><p><img src="https://img-blog.csdnimg.cn/2020081216133641.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center" alt="SAXs思想"></p><h1 id="xml常见的解析器"><a href="#xml常见的解析器" class="headerlink" title="xml常见的解析器"></a>xml常见的解析器</h1></li></ul><ol><li><p>JAXP</p><pre><code>sun公司提供的解析器，支持dom和sax两种思想* 性能不好，一般不会使用，了解即可</code></pre></li><li><p>DOM4J</p><pre><code>基于DOM思想的解析器*一款很优秀的解析器，使用于服务器端。   </code></pre></li><li><p>Jsounp</p><pre><code>jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。*由于xml刚开始就是为了代替html的，因此可以通过Jsoup解析xml。</code></pre></li><li><p>PULL</p><pre><code>安卓内置的解析器，sax方式的</code></pre></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200812163705788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70#pic_center&quot; alt=&quot;xml解析&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;p&gt;操作xml文档，将文档中的数据读取到内存中。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;操作xml文档：
     1.解析（读取）：将文档中的数据读取到内存中         
     2.写入：将内存中的数据写到xml文档中。持久化的存储。&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="xml" scheme="https://oldaz.github.io/tags/xml/"/>
    
  </entry>
  
  <entry>
    <title>来看看XML到底是个啥--xml约束文档</title>
    <link href="https://oldaz.github.io/2020/08/11/%E6%9D%A5%E7%9C%8B%E7%9C%8BXML%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E5%95%A5--xml%E7%BA%A6%E6%9D%9F%E6%96%87%E6%A1%A3/"/>
    <id>https://oldaz.github.io/2020/08/11/%E6%9D%A5%E7%9C%8B%E7%9C%8BXML%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E5%95%A5--xml%E7%BA%A6%E6%9D%9F%E6%96%87%E6%A1%A3/</id>
    <published>2020-08-11T09:54:10.000Z</published>
    <updated>2020-08-11T10:03:46.778Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200811180313461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="xml"></p><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><pre><code>规定xml文档的书写规则     * 作为框架的使用者（程序员）       1.能够在xml中引入约束文档       2.能够简单的读懂约束文档</code></pre> <a id="more"></a><h1 id="逻辑图"><a href="#逻辑图" class="headerlink" title="逻辑图"></a>逻辑图</h1><p>以下是约束文档的的作用和逻辑关系的图解：<br>   <img src="https://img-blog.csdnimg.cn/20200811160148642.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="约束"></p><h1 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h1><h2 id="DTD"><a href="#DTD" class="headerlink" title="DTD"></a>DTD</h2><pre><code>一种简单的约束文档</code></pre><h3 id="student-dtd"><a href="#student-dtd" class="headerlink" title="student.dtd"></a>student.dtd</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!ELEMENT <span class="meta-keyword">students</span> (<span class="meta-keyword">student</span>*) &gt;</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT <span class="meta-keyword">student</span> (<span class="meta-keyword">name</span>,<span class="meta-keyword">age</span>,<span class="meta-keyword">sex</span>)&gt;</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT <span class="meta-keyword">name</span> (<span class="meta-keyword">#PCDATA</span>)&gt;</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT <span class="meta-keyword">age</span> (<span class="meta-keyword">#PCDATA</span>)&gt;</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT <span class="meta-keyword">sex</span> (<span class="meta-keyword">#PCDATA</span>)&gt;</span></span><br><span class="line"><span class="meta">&lt;!ATTLIST <span class="meta-keyword">student</span> <span class="meta-keyword">number</span> <span class="meta-keyword">ID</span> <span class="meta-keyword">#REQUIRED</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这是对于约束文档的说明：<br><img src="https://img-blog.csdnimg.cn/20200811164408212.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="解释"></p><h3 id="引入约束文档"><a href="#引入约束文档" class="headerlink" title="引入约束文档"></a>引入约束文档</h3><p>1.内部dtd文档</p><pre><code>将约束规则定义在xml文档中（不常用）&lt;!DOCTYPE students [                        里面书写约束文档                    ]&gt;</code></pre><p>2.外部dtd文档</p><pre><code>将约束文档定义在外部dtd文件中     1.本地的   &lt;!DOCTYPE 根标签 SYSTEM &quot;外部的dtd文件&quot;&gt;   2.网络的    &lt;!DOCTYPE 根标签 PUBLIC &quot;dtd文件的名字&quot; &quot;外部的dtd文件URL&quot;&gt;</code></pre><h3 id="dtd实例"><a href="#dtd实例" class="headerlink" title="dtd实例"></a>dtd实例</h3><p>根据上面的约束文档书写的xml文档</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">students</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">"student.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">students</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">student</span> <span class="attr">number</span>=<span class="string">"itcast_0001"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">age</span>&gt;</span>18<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sex</span>&gt;</span>male<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h2><pre><code>一种复杂的约束技术弥补了dtd约束文档的缺陷（dtd定义的标签里面的值不能进行限制）。</code></pre><h3 id="student-xsd"><a href="#student-xsd" class="headerlink" title="student.xsd"></a>student.xsd</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--schema文档本身就是xml文档--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xsd:schema</span> <span class="attr">xmlns</span>=<span class="string">"http://www.itcast.cn/xml"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsd</span>=<span class="string">"http://www.w3.org/2001/XMLSchema"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">targetNamespace</span>=<span class="string">"http://www.itcast.cn/xml"</span> <span class="attr">elementFormDefault</span>=<span class="string">"qualified"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    定义元素，名字叫做students;元素的类型为studentsType ，自定义的studentsType需要在下面声明--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xsd:element</span> <span class="attr">name</span>=<span class="string">"students"</span> <span class="attr">type</span>=<span class="string">"studentsType"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    声明类型studentsType    complex：组合类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xsd:complexType</span> <span class="attr">name</span>=<span class="string">"studentsType"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        sequence表示按顺序出现 student元素  为studentType类型  最少出现0次   最多出现（未绑定）无数次--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xsd:sequence</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:element</span> <span class="attr">name</span>=<span class="string">"student"</span> <span class="attr">type</span>=<span class="string">"studentType"</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span> <span class="attr">maxOccurs</span>=<span class="string">"unbounded"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">xsd:sequence</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xsd:complexType</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    声明类型studentType  complex：组合类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xsd:complexType</span> <span class="attr">name</span>=<span class="string">"studentType"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        按顺序出现里面声明的标签--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xsd:sequence</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:element</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">type</span>=<span class="string">"xsd:string"</span>/&gt;</span> <span class="comment">&lt;!--字符串--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:element</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">type</span>=<span class="string">"ageType"</span> /&gt;</span> <span class="comment">&lt;!--自定义类型--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:element</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">type</span>=<span class="string">"sexType"</span> /&gt;</span><span class="comment">&lt;!--自定义类型--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">xsd:sequence</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        属性名为number，类型为自定义类型numberType，必须出现--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xsd:attribute</span> <span class="attr">name</span>=<span class="string">"number"</span> <span class="attr">type</span>=<span class="string">"numberType"</span> <span class="attr">use</span>=<span class="string">"required"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xsd:complexType</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--           声明sex类型   simple：简单类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xsd:simpleType</span> <span class="attr">name</span>=<span class="string">"sexType"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        类型为String--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xsd:restriction</span> <span class="attr">base</span>=<span class="string">"xsd:string"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            必须二选一--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:enumeration</span> <span class="attr">value</span>=<span class="string">"male"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:enumeration</span> <span class="attr">value</span>=<span class="string">"female"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">xsd:restriction</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xsd:simpleType</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--           声明age类型   simple：简单类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xsd:simpleType</span> <span class="attr">name</span>=<span class="string">"ageType"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xsd:restriction</span> <span class="attr">base</span>=<span class="string">"xsd:integer"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            最小值为0--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:minInclusive</span> <span class="attr">value</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            最大值为256--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:maxInclusive</span> <span class="attr">value</span>=<span class="string">"256"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">xsd:restriction</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xsd:simpleType</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--           声明number类型   simple：简单类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xsd:simpleType</span> <span class="attr">name</span>=<span class="string">"numberType"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--        类型为String--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xsd:restriction</span> <span class="attr">base</span>=<span class="string">"xsd:string"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            命名规则--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xsd:pattern</span> <span class="attr">value</span>=<span class="string">"xml_\d&#123;4&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">xsd:restriction</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xsd:simpleType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xsd:schema</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="引入schema文档"><a href="#引入schema文档" class="headerlink" title="引入schema文档"></a>引入schema文档</h3><p>1.填写xml文档的根元素<br>2.引入xsi前缀.  xmlns:xsi=”<a href="http://www.w3.org/2001/XMLSchema-instance&quot;" target="_blank" rel="noopener">http://www.w3.org/2001/XMLSchema-instance&quot;</a><br>3.引入xsd文件命名空间.  xsi:schemaLocation=”<a href="http://www.itcast.cn/xml" target="_blank" rel="noopener">http://www.itcast.cn/xml</a>  student.xsd”<br>4.为每一个xsd约束声明一个前缀,作为标识  xmlns=”<a href="http://www.itcast.cn/xml&quot;" target="_blank" rel="noopener">http://www.itcast.cn/xml&quot;</a> </p><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><pre><code>这是一个只有一个约束文档的实例</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">students</span>   <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns</span>=<span class="string">"http://www.itcast.cn/xml"</span> </span></span><br><span class="line"><span class="tag"> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.itcast.cn/xml  student.xsd"</span></span></span><br><span class="line"><span class="tag">     &gt;</span> </span><br><span class="line">     <span class="comment">&lt;!-- 当有多个约束文档时可加前缀  xmlns：a(前缀)--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">student</span> <span class="attr">number</span>=<span class="string">"heima_0001"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">age</span>&gt;</span>18<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">sex</span>&gt;</span>male<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">students</span>&gt;</span></span><br></pre></td></tr></table></figure><pre><code>以下是多个约束文档的实例（spring框架的配置文件）</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context </span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"cn.cisol.mvcdemo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">"annotation"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">expression</span>=<span class="string">"org.springframework.stereotype.Controller"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/resources/**"</span> <span class="attr">location</span>=<span class="string">"/resources/"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.ContentNegotiatingViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"order"</span> <span class="attr">value</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mediaTypes"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"json"</span> <span class="attr">value</span>=<span class="string">"application/json"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"xml"</span> <span class="attr">value</span>=<span class="string">"application/xml"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"htm"</span> <span class="attr">value</span>=<span class="string">"text/html"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"defaultViews"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.json.MappingJackson2JsonView"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"ignoreAcceptHeader"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"viewClass"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">value</span>=<span class="string">"org.springframework.web.servlet.view.JstlView"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsps/"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"multipartResolver"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxUploadSize"</span> <span class="attr">value</span>=<span class="string">"209715200"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"defaultEncoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"resolveLazily"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200811180313461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70&quot; alt=&quot;xml&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;规定xml文档的书写规则
     * 作为框架的使用者（程序员）
       1.能够在xml中引入约束文档
       2.能够简单的读懂约束文档&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="xml" scheme="https://oldaz.github.io/tags/xml/"/>
    
  </entry>
  
  <entry>
    <title>来看看XML到底是个啥--xml快速入门</title>
    <link href="https://oldaz.github.io/2020/08/11/%E6%9D%A5%E7%9C%8B%E7%9C%8BXML%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E5%95%A5--xml%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    <id>https://oldaz.github.io/2020/08/11/%E6%9D%A5%E7%9C%8B%E7%9C%8BXML%E5%88%B0%E5%BA%95%E6%98%AF%E4%B8%AA%E5%95%A5--xml%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</id>
    <published>2020-08-11T03:18:27.000Z</published>
    <updated>2020-08-11T10:02:31.857Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/2020081118012415.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="xml"></p><h1 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h1><pre><code>以前为了代替语法松散的html而诞生。最后竞争不赢，就发展自己的优势，与properties配置文件竞争。（xml 存数据比properties厉害，标签存数据特别的结构化）。</code></pre>  <a id="more"></a><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><pre><code>Extensib Markup language 可扩展标记语言*可扩展：标签都是自定义的。如 &lt;suer&gt; &lt; student&gt;</code></pre><h2 id="功能：存储数据"><a href="#功能：存储数据" class="headerlink" title="功能：存储数据"></a>功能：存储数据</h2><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><pre><code>简单的配置文件用properties文件复杂的配置文件用xml文件</code></pre><h3 id="在网络中传输"><a href="#在网络中传输" class="headerlink" title="在网络中传输"></a>在网络中传输</h3><pre><code>因为xml是纯文本的，所以可以跨平台传输。</code></pre><h2 id="xml与html的-区别"><a href="#xml与html的-区别" class="headerlink" title="xml与html的    区别"></a>xml与html的    区别</h2><ul><li>xml标签是自定义的，html标签是预定义的</li><li>xml的语法严格，html语法松散</li><li>xml是存储数据，html是展示数据<h1 id="语法：快速入门"><a href="#语法：快速入门" class="headerlink" title="语法：快速入门"></a>语法：快速入门</h1><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2> 1.xml文档后缀名必须为.xml</li></ul><p><img src="https://img-blog.csdnimg.cn/20200811101456282.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="后缀"></p><ol start="2"><li>xml第一行必须定义为文档声明</li></ol><p><img src="https://img-blog.csdnimg.cn/20200811102811260.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="声明"></p><p>-判断是否书写正确，将文档直接拉入浏览器，如不报错。就说明书写正确。</p><p><img src="https://img-blog.csdnimg.cn/20200811102852177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="书写正确"></p><p> 3.xml文档中有且只有一个根标签<br> 4.属性值必须用引号包裹（单双都可以）</p><pre><code>例如第一行的版本属性值，标签的id值 </code></pre><p>5.标签必须正确的关闭<br>6.标签名称区分大小写</p><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version = '1.0' ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">users</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span> = <span class="string">'1'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>huangzhong<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span>&gt;</span>23<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>male<span class="tag">&lt;/<span class="name">gender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span> = <span class="string">'2'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>zhaoyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span>&gt;</span>20<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>male<span class="tag">&lt;/<span class="name">gender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">users</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="组成部分"><a href="#组成部分" class="headerlink" title="组成部分"></a>组成部分</h2><h3 id="文档申明"><a href="#文档申明" class="headerlink" title="文档申明"></a>文档申明</h3><p> 1.格式</p><pre><code>&lt;?xml 属性列表 ?&gt;*尖括号与问号之间不能有空格、问号与xml之间不能有问号</code></pre><p>2.属性列表</p><pre><code>version  ：版本号 ，必须的属性（不存在就报错）encoding   ：  编码方式。告知解析引擎当前文档使用的字符集。默认值：ISO-8859-1standalone  ： 是否独立      取值：          yes：不依赖其他文件          no:依赖其他文件</code></pre><h3 id="指令（已经不这么使用了，了解即可）"><a href="#指令（已经不这么使用了，了解即可）" class="headerlink" title="指令（已经不这么使用了，了解即可）"></a>指令（已经不这么使用了，了解即可）</h3><pre><code>结合css控制标签样式。</code></pre><p><img src="https://img-blog.csdnimg.cn/20200811105704538.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="css样式"><br><img src="https://img-blog.csdnimg.cn/20200811105929318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="引入css"></p><p><img src="https://img-blog.csdnimg.cn/20200811105756459.png" alt="数据的展示"></p><h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><pre><code>标签名称自定义的</code></pre><p>规则</p><pre><code>名称可以含字母、数字以及其他的字符名称不能以数字或者标点符号开始名称不能以字符 “xml”（或者 XML、Xml）开始名称不能包含空格可使用任何名称，没有保留的字词。</code></pre><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><pre><code>id属性值唯一</code></pre><h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3><pre><code>CDATA区：该区域中的数据会被原样展示格式：&lt;![CDATA[数据]]&gt;   例如：展示代码</code></pre><p><img src="https://img-blog.csdnimg.cn/20200811111253632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="代码"></p><p>效果：<br><img src="https://img-blog.csdnimg.cn/20200811111349436.png" alt="展示效果"></p><p><strong>约束部分在下一篇文章，不然一篇文章太长了！</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/2020081118012415.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70&quot; alt=&quot;xml&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;XML&quot;&gt;&lt;a href=&quot;#XML&quot; class=&quot;headerlink&quot; title=&quot;XML&quot;&gt;&lt;/a&gt;XML&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;以前为了代替语法松散的html而诞生。
最后竞争不赢，就发展自己的优势，与properties配置文件竞争。
（xml 存数据比properties厉害，标签存数据特别的结构化）。&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="快速入门" scheme="https://oldaz.github.io/tags/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="xml" scheme="https://oldaz.github.io/tags/xml/"/>
    
  </entry>
  
  <entry>
    <title>阿哲学了就来聊——Java反射</title>
    <link href="https://oldaz.github.io/2020/08/09/%E9%98%BF%E5%93%B2%E5%AD%A6%E4%BA%86%E5%B0%B1%E6%9D%A5%E8%81%8A%E2%80%94%E2%80%94Java%E5%8F%8D%E5%B0%84/"/>
    <id>https://oldaz.github.io/2020/08/09/%E9%98%BF%E5%93%B2%E5%AD%A6%E4%BA%86%E5%B0%B1%E6%9D%A5%E8%81%8A%E2%80%94%E2%80%94Java%E5%8F%8D%E5%B0%84/</id>
    <published>2020-08-09T06:02:58.000Z</published>
    <updated>2020-08-11T10:07:11.983Z</updated>
    
    <content type="html"><![CDATA[<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p><img src="https://img-blog.csdnimg.cn/20200811180620383.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="反射"></p><pre><code>reflect 反射 ，反转 权力的转让类中有很多的方法和属性，方法的调用权限，属性的赋值权限，属于对象的。让对象把这些权力交出来，交给Class和其它反射类（Field,Method,Contructor）管理。</code></pre><a id="more"></a><p>Class类 的范围就是天下所有的字节码文件，每一个类被编译成字节码文件后，都可以看成是Class类的对象</p><p><img src="https://img-blog.csdnimg.cn/20200808124514232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="反射"></p><ul><li>与Java反射相关的类如下：</li></ul><table><thead><tr><th>类名</th><th>用途</th></tr></thead><tbody><tr><td>Class类</td><td>代表类的实体，在运行的Java程序中表示类和接口</td></tr><tr><td>Field类</td><td>代表成员变量（成员变量也成为属性）</td></tr><tr><td>Mehod</td><td>代表类的方法</td></tr><tr><td>Construtor类</td><td>代表类的构造方法</td></tr></tbody></table><h2 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h2><p>Class类代表实体，在运行Java应用程序中表示类和接口。这个类中提供了很多有用的方法，这里对他们的分类进行简单介绍。</p><h3 id="获得类的相关方法"><a href="#获得类的相关方法" class="headerlink" title="获得类的相关方法"></a>获得类的相关方法</h3><table><thead><tr><th>方法</th><th>用途</th></tr></thead><tbody><tr><td>asSubclass(Class<U>  class)</td><td>把传递的类和对象转换成代表其子类的对象</td></tr><tr><td>Cast</td><td>把对象转换成代表类或是接口对象</td></tr><tr><td>getClassLoader()</td><td>获得类的加载器</td></tr><tr><td>getClasses()</td><td>返回一个数组，该数组中含该类中有所有的公共类和接口类的对象</td></tr><tr><td>getDeclaredClasses</td><td>返回一个数组，该数组中包含该类所有的类和接口对象</td></tr><tr><td>forName(String className)</td><td>根据类返回类的对象</td></tr><tr><td>getName()</td><td>获得类的完整路径名字</td></tr><tr><td>newInstance()</td><td>创建类的实例</td></tr><tr><td>getPackage()</td><td>获得类的包</td></tr><tr><td>getSimpleName()</td><td>获得类的名字</td></tr><tr><td>getSuperclass()</td><td>获得当前类继承的父类的名字</td></tr><tr><td>getInterfaces()</td><td>获得当前实现的类或者是接口</td></tr></tbody></table><h3 id="获得类中属性相关的方法"><a href="#获得类中属性相关的方法" class="headerlink" title="获得类中属性相关的方法"></a>获得类中属性相关的方法</h3><table><thead><tr><th>方法</th><th>用途</th></tr></thead><tbody><tr><td>getFiled(String name)</td><td>获得某个共有的属性对象</td></tr><tr><td>getDFileds()</td><td>获得所有的共有属性对象</td></tr><tr><td>getDeclaredFiled ( String name )</td><td>获得某个属性对象</td></tr><tr><td>getDeclaredFileds ( String name )</td><td>获得所有属性对象</td></tr></tbody></table><h3 id="获得类中构造器的相关方法"><a href="#获得类中构造器的相关方法" class="headerlink" title="获得类中构造器的相关方法"></a>获得类中构造器的相关方法</h3><table><thead><tr><th>方法</th><th>用途</th></tr></thead><tbody><tr><td>getMethod(String name, Class…&lt;?&gt; parameterTypes)</td><td>获得该类某个公有的方法</td></tr><tr><td>getMethods()</td><td>获得该类所有公有的方法</td></tr><tr><td>getDeclaredMethod(String name, Class…&lt;?&gt; parameterTypes)</td><td>获得该类某个方法</td></tr><tr><td>getDeclaredMethods()</td><td>获得该类所有方法</td></tr></tbody></table><h2 id="Field"><a href="#Field" class="headerlink" title="Field"></a>Field</h2><p><a href="https://developer.android.google.cn/reference/java/lang/reflect/Field" target="_blank" rel="noopener">Field</a>代表类的成员变量（成员变量也称为类的属性）。</p><table><thead><tr><th>方法</th><th>用途</th></tr></thead><tbody><tr><td>equals(Object obj)</td><td>属性与obj相等则返回true</td></tr><tr><td>get(Object obj)</td><td>获得obj中对应的属性值</td></tr><tr><td>set(Object obj, Object value)</td><td>设置obj中对应属性值</td></tr></tbody></table><h2 id="Method类"><a href="#Method类" class="headerlink" title="Method类"></a>Method类</h2><p><a href="https://developer.android.google.cn/reference/java/lang/reflect/Method" target="_blank" rel="noopener">Method</a>代表类的方法。</p><table><thead><tr><th>方法</th><th>用途</th></tr></thead><tbody><tr><td>invoke(Object obj, Object… args)</td><td>传递object对象及参数调用该对象对应的方法</td></tr></tbody></table><h2 id="Constructor类"><a href="#Constructor类" class="headerlink" title="Constructor类"></a>Constructor类</h2><p><a href="https://developer.android.google.cn/reference/java/lang/reflect/Constructor" target="_blank" rel="noopener">Constructor</a>代表类的构造方法。</p><table><thead><tr><th>方法</th><th>用途</th></tr></thead><tbody><tr><td>newInstance(Object… initargs)</td><td>根据传递的参数创建类的对象</td></tr></tbody></table><h1 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h1><ul><li>获取Class对象</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public <span class="keyword">void</span> test1()&#123;</span><br><span class="line">    <span class="comment">// 1.获取某个类的实体类对象：三种方式</span></span><br><span class="line">    Class&lt;Emps&gt; c1 = Emps.class;</span><br><span class="line">    Class&lt;?extends Emps&gt; c2 = <span class="keyword">new</span> Emps().getClass();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class&lt;?&gt; c3 = Class.forName(<span class="string">"com.web.pojo.Emps"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.分别对实体类的成员（属性，方法，构造方法）进行托管</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Test<span class="comment">//使用构造器管理实体类中的构造方法</span></span><br><span class="line">    public <span class="keyword">void</span> test2() throws Exception &#123;</span><br><span class="line">        <span class="comment">// 1.获取class对象对象：三种方式</span></span><br><span class="line">        Class&lt;Emps&gt; c1 = Emps.class;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取构造方法的管理类</span></span><br><span class="line">            <span class="comment">//2.1托管无参构造</span></span><br><span class="line">            Emps emps =  c1.newInstance();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.2托管有参构造</span></span><br><span class="line">        Constructor&lt;Emps&gt; Constructor = c1.getDeclaredConstructor(Integer.class, <span class="built_in">String</span>.class);</span><br><span class="line">        Emps emps1 = Constructor.newInstance(<span class="number">1</span>, <span class="string">"元歌"</span>);</span><br><span class="line">        System.out.println(emps);</span><br><span class="line">        System.out.println(emps1);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="普通方法"><a href="#普通方法" class="headerlink" title="普通方法"></a>普通方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@Test<span class="comment">//使用Method类，来管理实体类中的某个方法</span></span><br><span class="line">public <span class="keyword">void</span> test4() throws Exception &#123;</span><br><span class="line">    <span class="comment">// 1.获取class对象对象</span></span><br><span class="line">    Class&lt;Emps&gt; c1 = Emps.class;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.获取某个方法的管理类Method</span></span><br><span class="line">    Method method = c1.getDeclaredMethod(<span class="string">"setName"</span>, <span class="built_in">String</span>.class);</span><br><span class="line">    Emps emps = c1.newInstance();</span><br><span class="line">    System.out.println(emps);</span><br><span class="line">    method.invoke(emps,<span class="string">"韩信"</span>);</span><br><span class="line">    System.out.println(emps);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"--------调用toString------"</span>);</span><br><span class="line">    Method method1 = c1.getDeclaredMethod(<span class="string">"toString"</span>);</span><br><span class="line">    <span class="built_in">Object</span> invoke = method1.invoke(emps);</span><br><span class="line">    System.out.println(invoke);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Test<span class="comment">//使用field类，来管理实体类中的某个属性</span></span><br><span class="line">public <span class="keyword">void</span> test3() throws Exception &#123;</span><br><span class="line">    <span class="comment">// 1.获取class对象对象：三种方式</span></span><br><span class="line">    Class&lt;Emps&gt; c1 = Emps.class;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.获取某个属性的管理类Field</span></span><br><span class="line">    Field f1 = c1.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line">    Field f2 = c1.getDeclaredField(<span class="string">"age"</span>);</span><br><span class="line">    Emps emps = c1.newInstance();</span><br><span class="line">    <span class="comment">//3.开启私有属性的操作权限</span></span><br><span class="line">    f1.setAccessible(<span class="literal">true</span>);</span><br><span class="line">    f2.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    System.out.println(emps);</span><br><span class="line">    f1.set(emps,<span class="string">"孙尚香"</span>);</span><br><span class="line">    f2.set(emps,<span class="number">18</span>);</span><br><span class="line">    System.out.println(emps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="反射案例"><a href="#反射案例" class="headerlink" title="反射案例"></a>反射案例</h1><h2 id="实现DBUtils工具类"><a href="#实现DBUtils工具类" class="headerlink" title="实现DBUtils工具类"></a>实现DBUtils工具类</h2><pre><code>封装查询结果集的原理实用多个数据表格的通用查询</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">package com.web.jdbc;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">JdbcUtil</span> </span>&#123;</span><br><span class="line">    <span class="comment">//封装结果集的通用方法</span></span><br><span class="line">    public <span class="keyword">static</span> &lt;T&gt; List&lt;T&gt; rsToList(<span class="built_in">String</span> sql,Class&lt;T&gt; c)&#123;</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;T&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//加载驱动，获取连接对象</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//加载驱动，获取连接对象</span></span><br><span class="line">            Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">            Connection con = DriverManager.getConnection(<span class="string">"jdbc:mysql://127.0.0.1:3306/wuhanhb?useSSL=false"</span>, <span class="string">"root"</span>, <span class="string">"root"</span>);</span><br><span class="line">            <span class="comment">//获取执行sql对象,执行sql，返回结果集rs</span></span><br><span class="line">            PreparedStatement psmt = con.prepareStatement(sql);</span><br><span class="line">            ResultSet rs = psmt.executeQuery(sql);</span><br><span class="line">            <span class="comment">//3.遍历rs</span></span><br><span class="line">               <span class="comment">//3.1借助元数据，获取列名和总列数</span></span><br><span class="line">            ResultSetMetaData md = rs.getMetaData();</span><br><span class="line">            int conut = md.getColumnCount();</span><br><span class="line">            <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">                <span class="comment">//循环一次获取一行数据，调用一次Object获取一个单元格的数据</span></span><br><span class="line">                T t = c.newInstance();</span><br><span class="line">                <span class="keyword">for</span> (int i=<span class="number">1</span>;i&lt;=conut;i++) &#123;</span><br><span class="line">                    <span class="built_in">Object</span> value = rs.getObject(i);</span><br><span class="line">                        <span class="comment">//每一列的列名充当T中的属性名，获取对应的属性管理对象f</span></span><br><span class="line">                    Field f = c.getDeclaredField(md.getColumnName(i));</span><br><span class="line">                    f.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                    <span class="comment">//为私有属性赋值</span></span><br><span class="line">                    f.set(t,value);</span><br><span class="line">                &#125;</span><br><span class="line">                list.add(t);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h2><h3 id="查询emps数据表"><a href="#查询emps数据表" class="headerlink" title="查询emps数据表"></a>查询emps数据表</h3><ul><li><p>这是数据库中的数据<br><img src="https://img-blog.csdnimg.cn/20200809134612880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="数据库中的数据"></p></li><li><p>这是测试类代码(<em>Emps实体类不单独贴出</em>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public <span class="keyword">void</span> test5()&#123;</span><br><span class="line">    <span class="comment">//测试jdbc工具类</span></span><br><span class="line">    List&lt;Emps&gt; emps = JdbcUtil.rsToList(<span class="string">"select * from emps"</span>, Emps.class);</span><br><span class="line">    System.out.println(emps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>查询结果<br><img src="https://img-blog.csdnimg.cn/20200809134947476.png" alt="查询emps表"></p><h3 id="查询dept数据表"><a href="#查询dept数据表" class="headerlink" title="查询dept数据表"></a>查询dept数据表</h3></li><li><p>这是数据库中的数据<br><img src="https://img-blog.csdnimg.cn/20200809135144525.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="dept数据"></p></li><li><p>这是测试类代码(<em>Emps实体类不单独贴出</em>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public <span class="keyword">void</span> test5()&#123;</span><br><span class="line">    <span class="comment">//测试jdbc工具类</span></span><br><span class="line">    List&lt;Dept&gt; dept = JdbcUtil.rsToList(<span class="string">"select * from dept"</span>, Dept.class);</span><br><span class="line">    System.out.println(dept);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>D</p></li><li><p>查询结果<br><img src="https://img-blog.csdnimg.cn/20200809135555587.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="dept表查询结果"></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200811180620383.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70&quot; alt=&quot;反射&quot;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;reflect 反射 ，反转 权力的转让
类中有很多的方法和属性，方法的调用权限，属性的赋值权限，属于对象的。
让对象把这些权力交出来，交给Class和其它反射类（Field,Method,Contructor）管理。&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Java" scheme="https://oldaz.github.io/categories/Java/"/>
    
    
      <category term="Java" scheme="https://oldaz.github.io/tags/Java/"/>
    
      <category term="反射" scheme="https://oldaz.github.io/tags/%E5%8F%8D%E5%B0%84/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript基础_1</title>
    <link href="https://oldaz.github.io/2020/05/30/JavaScript%E5%9F%BA%E7%A1%80_1/"/>
    <id>https://oldaz.github.io/2020/05/30/JavaScript%E5%9F%BA%E7%A1%80_1/</id>
    <published>2020-05-30T13:55:34.000Z</published>
    <updated>2020-05-30T14:03:56.129Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200530215426605.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70" alt="Javascript基础_1"></p><h1 id="JS-简介"><a href="#JS-简介" class="headerlink" title="JS 简介"></a>JS 简介</h1><pre><code>JavaScript 是属于 HTML 和 Web 的编程语言。编程令计算机完成您需要它们做的工作。JavaScript 很容易学习。</code></pre><h2 id="为何学习-JavaScript？"><a href="#为何学习-JavaScript？" class="headerlink" title="为何学习 JavaScript？"></a>为何学习 JavaScript？</h2><p>JavaScript 是 web 开发者必学的三种语言之一：</p><ul><li>HTML 定义网页的内容</li><li>CSS 规定网页的布局</li><li>JavaScript 对网页行为进行编程</li></ul><a id="more"></a><h2 id="JavaScript-简介"><a href="#JavaScript-简介" class="headerlink" title="JavaScript 简介"></a>JavaScript 简介</h2><pre><code>JavaScript 能够改变 HTML 内容getElementById() 是多个 JavaScript HTML 方法之一。</code></pre><p>本例使用该方法来“查找” id=”demo” 的 HTML 元素，并把元素内容（innerHTML）更改为 “Hello JavaScript”：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"Hello JavaScript"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">'Hello JavaScript'</span>;</span><br></pre></td></tr></table></figure><ol><li><p>JavaScript 能够改变 HTML 属性</p><p> 通过改变 <img> 标签的 src 属性（source）来改变一张 HTML 图像<br> JavaScript 能够改变 HTML 样式 (CSS)<br>改变 HTML 元素的样式，是改变 HTML 属性的一种变种：</p></li></ol><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).style.fontSize = <span class="string">"25px"</span>;</span><br></pre></td></tr></table></figure><ol start="2"><li>JavaScript 能够隐藏 HTML 元素<br>可通过改变 display 样式来隐藏 HTML 元素：</li></ol><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).style.display=<span class="string">"none"</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>JavaScript 能够显示 HTML 元素<br>可通过改变 display 样式来显示隐藏的 HTML 元素：</li></ol><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).style.display=<span class="string">"block"</span>;</span><br></pre></td></tr></table></figure><h1 id="JavaScript-使用"><a href="#JavaScript-使用" class="headerlink" title="JavaScript 使用"></a>JavaScript 使用</h1><h2 id="JS-输出"><a href="#JS-输出" class="headerlink" title="JS 输出"></a>JS 输出</h2><h3 id="60-script-gt-标签"><a href="#60-script-gt-标签" class="headerlink" title="&#60;script&gt; 标签"></a>&#60;script&gt; 标签</h3><p>在 HTML 中，JavaScript 代码必须位于 &#60;script&gt; 与 &#60;/script&gt; 标签之间。</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"我的第一段 JavaScript"</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>注释：旧的 JavaScript 例子也许会使用 type 属性：&#60;script type=”text/javascript”&gt;。<br>注释：type 属性不是必需的。JavaScript 是 HTML 中的默认脚本语言。</p><ol><li><p>&#60;head&gt; 或&#60;body&gt; 中的 JavaScript</p><p> 您能够在 HTML 文档中放置任意数量的脚本。<br> 脚本可被放置与 HTML 页面的 <body> 或 <head> 部分中，或兼而有之。</p></li><li><p>&#60;head&gt; 中的 JavaScript<br>在本例中，JavaScript 函数被放置于 HTML 页面的 &#60;head&gt; 部分。<br>该函数会在按钮被点击时调用：</p></li></ol><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"段落被更改。"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;一张网页&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;p id="demo"&gt;一个段落&lt;/</span>p&gt;</span><br><span class="line">&lt;button type=<span class="string">"button"</span> onclick=<span class="string">"myFunction()"</span>&gt;试一试&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>提示：把脚本置于 <body> 元素的底部，可改善显示速度，因为脚本编译会拖慢显示。</p><h1 id="外部脚本"><a href="#外部脚本" class="headerlink" title="外部脚本"></a>外部脚本</h1><p>脚本可放置与外部文件中：<br>外部文件：myScript.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"段落被更改。"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>外部脚本很实用，如果相同的脚本被用于许多不同的网页。<br>JavaScript 文件的文件扩展名是 .js。</p><p>如需使用外部脚本，请在 &#60;script&gt; 标签的 src (source) 属性中设置脚本的名称：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"myScript.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><pre><code>您可以在 &amp;#60;head&gt; 或 &amp;#60;body&gt; 中放置外部脚本引用。该脚本的表现与它被置于 &amp;#60;script&gt; 标签中是一样的。</code></pre><p>注释：外部脚本不能包含 &#60;script&gt; 标签。</p><h1 id="外部-JavaScript-的优势"><a href="#外部-JavaScript-的优势" class="headerlink" title="外部 JavaScript 的优势"></a>外部 JavaScript 的优势</h1><p>在外部文件中放置脚本有如下优势：</p><ul><li>分离了 HTML 和代码</li><li>使 HTML 和 JavaScript 更易于阅读和维护</li><li>已缓存的 JavaScript 文件可加速页面加载</li></ul><p>如需向一张页面添加多个脚本文件 - 请使用多个 script 标签：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"myScript1.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="myScript2.js"&gt;&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure><h2 id="外部引用"><a href="#外部引用" class="headerlink" title="外部引用"></a>外部引用</h2><p>可通过完整的 URL 或相对于当前网页的路径引用外部脚本</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://www.xxxx.com/js/myScript1.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h1 id="JavaScript-输出"><a href="#JavaScript-输出" class="headerlink" title="JavaScript 输出"></a>JavaScript 输出</h1><pre><code>JavaScript 不提供任何内建的打印或显示函数。</code></pre><h2 id="JavaScript-显示方案"><a href="#JavaScript-显示方案" class="headerlink" title="JavaScript 显示方案"></a>JavaScript 显示方案</h2><p>JavaScript 能够以不同方式“显示”数据：</p><ul><li>使用 window.alert() 写入警告框</li><li>使用 document.write() 写入 HTML 输出</li><li>使用 innerHTML 写入 HTML 元素</li><li>使用 console.log() 写入浏览器控制台</li></ul><h3 id="使用-innerHTML"><a href="#使用-innerHTML" class="headerlink" title="使用 innerHTML"></a>使用 innerHTML</h3><pre><code>如需访问 HTML 元素，JavaScript 可使用 document.getElementById(id) 方法。</code></pre><p>id 属性定义 HTML 元素。innerHTML 属性定义 HTML 内容：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;我的第一张网页&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;p&gt;我的第一个段落&lt;/</span>p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=<span class="string">"demo"</span>&gt;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp"> document.getElementById("demo").innerHTML = 5 + 6;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p>提示：更改 HTML 元素的 innerHTML 属性是在 HTML 中显示数据的常用方法。</p><h3 id="使用-document-write"><a href="#使用-document-write" class="headerlink" title="使用 document.write()"></a>使用 document.write()</h3><pre><code>出于测试目的，使用 document.write() 比较方便：</code></pre><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;我的第一张网页&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;p&gt;我的第一个段落&lt;/</span>p&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">5</span> + <span class="number">6</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>注意：在 HTML 文档完全加载后使用 document.write() 将删除所有已有的 HTML ：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;我的第一张网页&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;p&gt;我的第一个段落&lt;/</span>p&gt;</span><br><span class="line"></span><br><span class="line">&lt;button onclick=<span class="string">"document.write(5 + 6)"</span>&gt;试一试&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><p>提示：document.write() 方法仅用于测试。</p><h3 id="使用-window-alert"><a href="#使用-window-alert" class="headerlink" title="使用 window.alert()"></a>使用 window.alert()</h3><pre><code>您能够使用警告框来显示数据：</code></pre><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;我的第一张网页&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;p&gt;我的第一个段落&lt;/</span>p&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.alert(<span class="number">5</span> + <span class="number">6</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><h3 id="使用-console-log"><a href="#使用-console-log" class="headerlink" title="使用 console.log()"></a>使用 console.log()</h3><pre><code>在浏览器中，您可使用 console.log() 方法来显示数据。请通过 F12 来激活浏览器控制台，并在菜单中选择“控制台”。</code></pre><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;我的第一张网页&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;p&gt;我的第一个段落&lt;/</span>p&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> + <span class="number">6</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><h1 id="JavaScript-语句"><a href="#JavaScript-语句" class="headerlink" title="JavaScript 语句"></a>JavaScript 语句</h1><pre><code>在 HTML 中，JavaScript 语句是由 web 浏览器“执行”的“指令”。</code></pre><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, y, z;<span class="comment">// 语句 1</span></span><br><span class="line">x = <span class="number">22</span>;<span class="comment">// 语句 2</span></span><br><span class="line">y = <span class="number">11</span>;<span class="comment">// 语句 3</span></span><br><span class="line">z = x + y;<span class="comment">// 语句 4</span></span><br></pre></td></tr></table></figure><h2 id="JavaScript-程序"><a href="#JavaScript-程序" class="headerlink" title="JavaScript 程序"></a>JavaScript 程序</h2><ul><li>计算机程序是由计算机“执行”的一系列“指令”。</li><li>在编程语言中，这些编程指令被称为语句。</li><li>JavaScript 程序就是一系列的编程语句。</li></ul><p>注释：在 HTML 中，JavaScript 程序由 web 浏览器执行。</p><h2 id="JavaScript-语句-1"><a href="#JavaScript-语句-1" class="headerlink" title="JavaScript 语句"></a>JavaScript 语句</h2><pre><code>JavaScript 语句由以下构成：          值、运算符、表达式、关键词和注释。</code></pre><p>这条语句告诉浏览器在 id=”demo” 的 HTML 元素中输出 “Hello Kitty.”：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"Hello Kitty."</span>;</span><br></pre></td></tr></table></figure><pre><code>大多数 JavaScript 程序都包含许多 JavaScript 语句。这些语句会按照它们被编写的顺序逐一执行。</code></pre><p>注释：JavaScript 程序（以及 JavaScript 语句）常被称为 JavaScript 代码。</p><h2 id="分号"><a href="#分号" class="headerlink" title="分号( ; )"></a>分号( ; )</h2><pre><code>分号分隔 JavaScript 语句。</code></pre><p>请在每条可执行的语句之后添加分号：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span>;</span><br><span class="line">b = <span class="number">6</span>;</span><br><span class="line">c = a + b;</span><br></pre></td></tr></table></figure><p>如果有分号分隔，允许在同一行写多条语句：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span>; b = <span class="number">6</span>; c = a + b;</span><br></pre></td></tr></table></figure><pre><code>可能在网上看到不带分号的例子。</code></pre><p>提示：以分号结束语句不是必需的，但我们仍然强烈建议您这么做。</p><h2 id="JavaScript-空白字符"><a href="#JavaScript-空白字符" class="headerlink" title="JavaScript 空白字符"></a>JavaScript 空白字符</h2><pre><code>JavaScript 会忽略多个空格。您可以向脚本添加空格，以增强可读性。</code></pre><p>下面这两行是相等的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = <span class="string">"Bill"</span>;</span><br><span class="line"><span class="keyword">var</span> person=<span class="string">"Bill"</span>;</span><br></pre></td></tr></table></figure><pre><code>在运算符旁边（ = + - * / ）添加空格是个好习惯：</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = y + z;</span><br></pre></td></tr></table></figure><h2 id="JavaScript-行长度和折行"><a href="#JavaScript-行长度和折行" class="headerlink" title="JavaScript 行长度和折行"></a>JavaScript 行长度和折行</h2><pre><code>为了达到最佳的可读性，程序员们常常喜欢把代码行控制在 80 个字符以内。如果 JavaScript 语句太长，对其进行折行的最佳位置是某个运算符：</code></pre><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML =</span><br><span class="line"> <span class="string">"Hello Kitty."</span>;</span><br></pre></td></tr></table></figure><h2 id="JavaScript-代码块"><a href="#JavaScript-代码块" class="headerlink" title="JavaScript 代码块"></a>JavaScript 代码块</h2><pre><code>JavaScript 语句可以用花括号（{...}）组合在代码块中。代码块的作用是定义一同执行的语句。</code></pre><p>您会在 JavaScript 中看到成块组合在一起的语句：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"Hello Kitty."</span>;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"myDIV"</span>).innerHTML = <span class="string">"How are you?"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注释：在本教程中我们为代码块用了 4 个空格的缩进。</p><h2 id="JavaScript-关键词"><a href="#JavaScript-关键词" class="headerlink" title="JavaScript 关键词"></a>JavaScript 关键词</h2><pre><code>JavaScript 语句常常通过某个关键词来标识需要执行的 JavaScript 动作。</code></pre><p>下面的表格列出了一部分将在教程中学到的关键词：</p><table><thead><tr><th>关键词</th><th>描述</th></tr></thead><tbody><tr><td>break</td><td>终止 switch 或循环。</td></tr><tr><td>continue</td><td>跳出循环并在顶端开始。</td></tr><tr><td>debugger</td><td>停止执行 JavaScript，并调用调试函数（如果可用）。</td></tr><tr><td>do … while</td><td>执行语句块，并在条件为真时重复代码块。</td></tr><tr><td>for</td><td>标记需被执行的语句块，只要条件为真。</td></tr><tr><td>function</td><td>声明函数。</td></tr><tr><td>if … else</td><td>标记需被执行的语句块，根据某个条件。</td></tr><tr><td>return</td><td>退出函数。</td></tr><tr><td>switch</td><td>标记需被执行的语句块，根据不同的情况。</td></tr><tr><td>try … catch</td><td>对语句块实现错误处理。</td></tr><tr><td>var</td><td>声明变量。</td></tr><tr><td>注释：JavaScript 关键词指的是保留的单词。保留词无法用作变量名。</td><td></td></tr></tbody></table><h1 id="JavaScript-语法"><a href="#JavaScript-语法" class="headerlink" title="JavaScript 语法"></a>JavaScript 语法</h1><pre><code>JavaScript 语法是一套规则，它定义了 JavaScript 的语言结构。</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, y;<span class="comment">// 如何声明变量</span></span><br><span class="line">x = <span class="number">7</span>; y = <span class="number">8</span>;<span class="comment">// 如何赋值</span></span><br><span class="line">z = x + y;<span class="comment">// 如何计算值</span></span><br></pre></td></tr></table></figure><h1 id="JavaScript-值"><a href="#JavaScript-值" class="headerlink" title="JavaScript 值"></a>JavaScript 值</h1><pre><code>JavaScript 语句定义两种类型的值：混合值和变量值。混合值被称为字面量（literal）。变量值被称为变量。</code></pre><h1 id="JavaScript-字面量"><a href="#JavaScript-字面量" class="headerlink" title="JavaScript 字面量"></a>JavaScript 字面量</h1><ul><li><p>书写混合值最重要的规则是：<br>  写数值有无小数点均可：</p><p>  15.90</p><p>  10011</p></li></ul><ul><li><p>字符串是文本，由双引号或单引号包围：</p><pre><code>&quot;Bill Gates&quot;&apos;Bill Gates&apos; </code></pre></li></ul><h1 id="JavaScript-变量"><a href="#JavaScript-变量" class="headerlink" title="JavaScript 变量"></a>JavaScript 变量</h1><pre><code>在编程语言中，变量用于存储数据值。JavaScript 使用 var 关键词来声明变量。</code></pre><p>= 号用于为变量赋值。</p><p>在本例中，x 被定义为变量。然后，x 被赋的值是 7：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"></span><br><span class="line">x = <span class="number">7</span>;</span><br></pre></td></tr></table></figure><h1 id="JavaScript-运算符"><a href="#JavaScript-运算符" class="headerlink" title="JavaScript 运算符"></a>JavaScript 运算符</h1><p>JavaScript 使用算数运算符（+ - * /）来计算值：</p><p>(7 + 8) * 10</p><p>JavaScript 使用赋值运算符（=）向变量赋值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, y;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">7</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="number">8</span>;</span><br></pre></td></tr></table></figure><p>值可以是多种类型，比如数值和字符串。</p><p>例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Bill"</span> + <span class="string">" "</span> + <span class="string">"Gates"</span>，计算为 <span class="string">"Bill Gates"</span>：</span><br><span class="line"></span><br><span class="line"><span class="string">"Bill"</span> + <span class="string">" "</span> + <span class="string">"Gates"</span></span><br></pre></td></tr></table></figure><h1 id="JavaScript-关键词-1"><a href="#JavaScript-关键词-1" class="headerlink" title="JavaScript 关键词"></a>JavaScript 关键词</h1><pre><code>JavaScript 关键词用于标识被执行的动作。</code></pre><p>var 关键词告知浏览器创建新的变量：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">7</span> + <span class="number">8</span>;</span><br><span class="line"><span class="keyword">var</span> y = x * <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h1 id="JavaScript-注释"><a href="#JavaScript-注释" class="headerlink" title="JavaScript 注释"></a>JavaScript 注释</h1><pre><code>并非所有 JavaScript 语句都被“执行”。双斜杠 // 或 /* 与 */ 之间的代码被视为注释。</code></pre><p>注释会被忽略，不会被执行：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">7</span>;   <span class="comment">// 会执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// var x = 8;   不会执行</span></span><br></pre></td></tr></table></figure><h1 id="JavaScript-标识符"><a href="#JavaScript-标识符" class="headerlink" title="JavaScript 标识符"></a>JavaScript 标识符</h1><pre><code>标识符是名称。</code></pre><ul><li><p>在 JavaScript 中，标识符用于命名变量（以及关键词、函数和标签）。</p></li><li><p>在大多数编程语言中，合法名称的规则大多相同。</p></li><li><p>在 JavaScript 中，首字符必须是字母、下划线（-）或美元符号（$）。</p></li><li><p>连串的字符可以是字母、数字、下划线或美元符号。</p></li></ul><p>提示：数值不可以作为首字符。这样，JavaScript 就能轻松区分标识符和数值。</p><h2 id="JavaScript-对大小写敏感"><a href="#JavaScript-对大小写敏感" class="headerlink" title="JavaScript 对大小写敏感"></a>JavaScript 对大小写敏感</h2><pre><code>所有 JavaScript 标识符对大小写敏感。变量 lastName 和 lastname，是两个不同的变量。</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lastName = <span class="string">"Gates"</span>;</span><br><span class="line">lastname = <span class="string">"Jobs"</span>;</span><br></pre></td></tr></table></figure><p><strong>JavaScript 不会把 VAR 或 Var 译作关键词 var。</strong></p><h2 id="JavaScript-与驼峰式大小写"><a href="#JavaScript-与驼峰式大小写" class="headerlink" title="JavaScript 与驼峰式大小写"></a>JavaScript 与驼峰式大小写</h2><pre><code>历史上，程序员曾使用三种把多个单词连接为一个变量名的方法：</code></pre><p>连字符：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">first-name, last-name, master-card, inter-city.</span><br></pre></td></tr></table></figure><p>注释：JavaScript 中不能使用连字符。它是为减法预留的。</p><p>下划线：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">first_name, last_name, master_card, inter_city.</span><br></pre></td></tr></table></figure><p>驼峰式大小写（Camel Case）：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FirstName, LastName, MasterCard, InterCity.</span><br></pre></td></tr></table></figure><p>JavaScript 程序员倾向于使用以小写字母开头的驼峰大小写：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firstName, lastName, masterCard, interCity</span><br></pre></td></tr></table></figure><h1 id="JavaScript-字符集"><a href="#JavaScript-字符集" class="headerlink" title="JavaScript 字符集"></a>JavaScript 字符集</h1><pre><code>JavaScript 使用 Unicode 字符集。Unicode 覆盖世界上几乎所有的字符、标点和符号。</code></pre><h1 id="JavaScript-注释（2）"><a href="#JavaScript-注释（2）" class="headerlink" title="JavaScript 注释（2）"></a>JavaScript 注释（2）</h1><pre><code>JavaScript 注释用于解释 JavaScript 代码，增强其可读性。JavaScript 注释也可以用于在测试替代代码时阻止执行。</code></pre><h2 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h2><pre><code>单行注释以 // 开头。任何位于 // 与行末之间的文本都会被 JavaScript 忽略（不会执行）。</code></pre><p>本例在每条代码行之前使用单行注释：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 改变标题：</span></span><br><span class="line"> <span class="built_in">document</span>.getElementById(<span class="string">"myH"</span>).innerHTML = <span class="string">"我的第一张页面"</span>;</span><br><span class="line"><span class="comment">// 改变段落：</span></span><br><span class="line"> <span class="built_in">document</span>.getElementById(<span class="string">"myP"</span>).innerHTML = <span class="string">"我的第一个段落。"</span>;</span><br></pre></td></tr></table></figure><p> 本例在每行结尾处使用了单行注释来解释代码：</p><p>实例</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>;      <span class="comment">// 声明 x，为其赋值 5</span></span><br><span class="line"><span class="keyword">var</span> y = x + <span class="number">2</span>;  <span class="comment">// 声明 y，为其赋值 x + 2</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20200530215426605.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMzcwODky,size_16,color_FFFFFF,t_70&quot; alt=&quot;Javascript基础_1&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;JS-简介&quot;&gt;&lt;a href=&quot;#JS-简介&quot; class=&quot;headerlink&quot; title=&quot;JS 简介&quot;&gt;&lt;/a&gt;JS 简介&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;JavaScript 是属于 HTML 和 Web 的编程语言。
编程令计算机完成您需要它们做的工作。
JavaScript 很容易学习。&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;为何学习-JavaScript？&quot;&gt;&lt;a href=&quot;#为何学习-JavaScript？&quot; class=&quot;headerlink&quot; title=&quot;为何学习 JavaScript？&quot;&gt;&lt;/a&gt;为何学习 JavaScript？&lt;/h2&gt;&lt;p&gt;JavaScript 是 web 开发者必学的三种语言之一：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTML 定义网页的内容&lt;/li&gt;
&lt;li&gt;CSS 规定网页的布局&lt;/li&gt;
&lt;li&gt;JavaScript 对网页行为进行编程&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="HTML" scheme="https://oldaz.github.io/categories/HTML/"/>
    
    
      <category term="JavaScript" scheme="https://oldaz.github.io/tags/JavaScript/"/>
    
  </entry>
  
</feed>
